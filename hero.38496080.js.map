{"mappings":"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","sources":["src/javascript/hero.js"],"sourcesContent":["import axios from 'axios';\n\n// DOM ELEMENTS\nconst heroSection = document.querySelector('.hero');\nconst heroTitle = document.querySelector('.hero-title');\nconst heroText = document.querySelector('.hero-text');\nconst heroTrailerBTN = document.querySelector('.hero-getstarted-btn');\nconst heroMoreBTN = document.querySelector('.hero-moredetails-btn');\nconst heroRaiting = document.querySelector('.rating');\nconst trailerModal = document.querySelector('.trailer-modal');\nconst closeModal = document.querySelector('.trailer-svg-close');\nconst trailerVideo = document.querySelector('.trailer-video');\n\nlet screenWidth = document.documentElement.clientWidth;\n\n// SLICE HERO TEXT\nif (screenWidth < 768) {\n  heroText.textContent = heroText.textContent.slice(0, 120);\n}\n\n// EVENT HANDLERS\nfunction onOpenModalTrailer(e) {\n  e.preventDefault();\n  trailerModal.classList.remove('ishidden');\n  heroTrailerBTN.classList.add('blocked-element');\n  document.body.classList.add('noScroll');\n}\n\nfunction onCloseModalTrailer(e) {\n  trailerModal.classList.add('ishidden');\n  heroTrailerBTN.classList.remove('blocked-element');\n  document.body.classList.remove('noScroll');\n}\n\n// TRAILER VIDEO\nasync function fetchTrailer(id) {\n  try {\n    const response = await axios.get(`https://api.themoviedb.org/3/movie/${id}/videos`, {\n      params: { language: 'en-US' },\n      headers: {\n        accept: 'application/json',\n        Authorization:\n          'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwZmE1ZDU3ODY5YzBmYzQ2YWI2YjI3MDJhZDllNjZmZSIsInN1YiI6IjY0NzhjNTUwMGUyOWEyMDExNmFiOGIwNCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.6ciIvtOhfPeTztNv-gkHSd2chqAc4xOBK5Ti6nPXDtE',\n      },\n    });\n    return response.data.results;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n}\n\nasync function fetchTrendingFilmsOfDay() {\n  try {\n    const response = await axios.get('https://api.themoviedb.org/3/trending/all/day', {\n      params: { language: 'en-US' },\n      headers: {\n        accept: 'application/json',\n        Authorization:\n          'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwZmE1ZDU3ODY5YzBmYzQ2YWI2YjI3MDJhZDllNjZmZSIsInN1YiI6IjY0NzhjNTUwMGUyOWEyMDExNmFiOGIwNCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.6ciIvtOhfPeTztNv-gkHSd2chqAc4xOBK5Ti6nPXDtE',\n      },\n    });\n    return response.data;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n}\n\nfunction getRandomNumber(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\n// Load the trending films and set up the hero section\nfetchTrendingFilmsOfDay()\n  .then(data => {\n    const { title, name, overview, backdrop_path, id } = data.results[getRandomNumber(0, 20)];\n\n    fetchTrailer(id)\n      .then(data => {\n        const trailerKey = data[getRandomNumber(0, data.length)].key;\n        onYouTubeIframeAPIReady(trailerKey);\n        closeModal.classList.add('inother-position');\n        console.log(data);\n        console.log(`https://www.youtube.com/embed/${trailerKey}`);\n      })\n      .catch(error => {\n        closeModal.classList.remove('inother-position');\n        console.error(error);\n      });\n\n    heroSection.style.background = `linear-gradient(86.47deg, #111111 33.63%, rgba(17, 17, 17, 0) 76.86%),url('https://image.tmdb.org/t/p/original${backdrop_path}')`;\n    heroSection.style.backgroundRepeat = 'no-repeat';\n    heroSection.style.backgroundSize = 'cover';\n\n    heroTitle.innerHTML = title || name;\n    heroText.innerHTML = `${overview.slice(0, 90)}...`;\n\n    if (screenWidth >= 768 && screenWidth < 1280) {\n      heroTitle.style.paddingTop = '96px';\n      heroText.innerHTML = `${overview.slice(0, 200)}...`;\n    }\n    if (screenWidth >= 1280) {\n      heroTitle.style.paddingTop = '178px';\n      heroText.innerHTML = `${overview.slice(0, 250)}...`;\n    }\n\n    heroTrailerBTN.textContent = 'Watch trailer';\n    heroMoreBTN.classList.remove('ishidden');\n    heroTrailerBTN.addEventListener('click', onOpenModalTrailer);\n    closeModal.addEventListener('click', onCloseModalTrailer);\n  })\n  .catch(error => {\n    heroTrailerBTN.textContent = 'Get Started';\n    heroMoreBTN.classList.add('ishidden');\n    console.error(error);\n  });\n\n// YOUTUBE PLAYER\nfunction onYouTubeIframeAPIReady(id) {\n  const player = new YT.Player('trailer-video', {\n    height: '240',\n    width: '320',\n    videoId: id,\n  });\n}"],"names":["$bpxeT","parcelRequire","$1cfa82f011f70f7e$var$heroSection","document","querySelector","$1cfa82f011f70f7e$var$heroTitle","$1cfa82f011f70f7e$var$heroText","$1cfa82f011f70f7e$var$heroTrailerBTN","$1cfa82f011f70f7e$var$heroMoreBTN","$1cfa82f011f70f7e$var$trailerModal","$1cfa82f011f70f7e$var$closeModal","$1cfa82f011f70f7e$var$screenWidth","documentElement","clientWidth","$1cfa82f011f70f7e$var$onOpenModalTrailer","e","preventDefault","classList","remove","add","body","$1cfa82f011f70f7e$var$onCloseModalTrailer","$1cfa82f011f70f7e$var$_fetchTrailer","$parcel$interopDefault","$2TvXO","mark","_callee","id","response","$dIxxU","default","get","concat","params","language","headers","accept","Authorization","_ctx","sent","data","results","console","error","t0","apply","this","arguments","$1cfa82f011f70f7e$var$_fetchTrendingFilmsOfDay","$1cfa82f011f70f7e$var$getRandomNumber","min","max","Math","floor","random","textContent","slice","$1cfa82f011f70f7e$var$fetchTrendingFilmsOfDay","then","data1","ref","title","name","overview","backdrop_path","$1cfa82f011f70f7e$var$fetchTrailer","trailerKey","length","key","YT","Player","height","width","videoId","$1cfa82f011f70f7e$var$onYouTubeIframeAPIReady","log","catch","style","background","backgroundRepeat","backgroundSize","innerHTML","paddingTop","addEventListener"],"version":3,"file":"hero.38496080.js.map"}