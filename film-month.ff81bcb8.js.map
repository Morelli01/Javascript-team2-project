{"mappings":"2MAAA,IAAAA,EAAAC,EAAA,SAEC,WACC,MAAMC,QAAa,EAAAF,EAAAG,wBACnBC,QAAQC,IAAI,YAAaH,GAEzB,MAAMI,QAAe,EAAAN,EAAAO,aAEfC,EAAQC,SAASC,cAAc,uBACrC,GAAIF,EAAO,CACT,MAAMG,EAAeC,EAAaV,EAAMI,GACxCE,EAAMK,UAAYF,C,CAErB,EAXA,GAaD,MAAMC,EAAe,CAACV,EAAMI,KAC1B,MACMQ,EADU,mDACWZ,EAAKa,YAC1BC,EAAWd,EAAKc,SAGhBC,EAAc,IAAIC,KAAKhB,EAAKiB,cAelC,MAAO,gFAEgCL,0WAZV,GAJjBG,EAAYG,UAAUC,WAAWC,SAAS,EAAG,SAC1CL,EAAYM,WAAa,GAAGF,WAAWC,SAAS,EAAG,QACrDL,EAAYO,+OAILtB,EAAKuB,+DACPvB,EAAKwB,+NACJxB,EAAKyB,uMACLrB,EAChBsB,QAAQC,GAAU3B,EAAK4B,UAAUC,MAAM,EAAG,GAAGC,SAASH,EAAMI,MAC5DC,KAAI,EAACC,KAAEA,KAAWA,IAClBC,KAAK,4LAiCwCpB,oKAM/C,C","sources":["src/javascript/film-month.js"],"sourcesContent":["import { getGenres, getRandomFilmOfMonth } from './api';\n\n(async () => {\n  const film = await getRandomFilmOfMonth();\n  console.log('filmMonth', film);\n\n  const genres = await getGenres();\n\n  const divEl = document.querySelector('.film-month_wrapper');\n  if (divEl) {\n    const resultMarkup = createMarkup(film, genres);\n    divEl.innerHTML = resultMarkup;\n  }\n})();\n\nconst createMarkup = (film, genres) => {\n  const baseUrl = 'https://image.tmdb.org/t/p/w1066_and_h600_bestv2';\n  const imageSrc = baseUrl + film.poster_path;\n  const overview = film.overview;\n\n\n  const releaseDate = new Date(film.release_date);\n  const day = releaseDate.getDate().toString().padStart(2, '0');\n  const month = (releaseDate.getMonth() + 1).toString().padStart(2, '0');\n  const year = releaseDate.getFullYear();\n\n  const formattedReleaseDate = `${day} ${month} ${year}`;\n\n  const voteAverage = film.vote_average;\n  const voteCount = film.vote_count;\n  const popularity = film.popularity;\n  const filmGenres = genres\n    .filter((genre) => film.genre_ids.slice(0, 2).includes(genre.id))\n    .map(({ name }) => name)\n    .join(', ');\n\n  return `\n    <div class='film-month_image'>\n      <img class='film-month_img' src='${imageSrc}'>\n    </div>\n    <div class='film-month_content'>\n      <div>\n        <h3 class='film-month_info-title'>The lost city</h3>\n      </div>\n      <div class='film-month_info'>\n        <div class='film-month_info-item'>\n          <span class='film-month_info-label'>Release date</span>\n          <span class='film-month_info-value film-month_info-year'>${formattedReleaseDate}</span>\n        </div>\n        <div class='film-month_info-item'>\n          <span class='film-month_info-label'>Vote/Votes</span>\n          <span class='film-month_info-value'>\n            <span class='value-number'>${voteAverage}</span>\n            <span class='value-number'>${voteCount}</span>\n          </span>\n        </div>\n        <div class='film-month_info-item'>\n          <span class='film-month_info-label'>Popularity</span>\n          <span class='film-month_info-value span-value'>${popularity}</span>\n        </div>\n        <div class='film-month_info-item'>\n          <span class='film-month_info-label'>Genre</span>\n          <span class='film-month_info-value span-value'>${filmGenres}</span>\n        </div>\n      </div>\n      <div class='film-month_about'>\n        <h4 class='film-month_about-title'>About</h4>\n        <p class='film-month_about-description'>${overview}</p>\n      </div>\n      <div class='film-month_button'>\n        <button class='film-month_button-add'>Add to my library</button>\n      </div>\n    </div>\n  `;\n};"],"names":["$dK6vY","parcelRequire","film","getRandomFilmOfMonth","console","log","genres","getGenres","divEl","document","querySelector","resultMarkup","$504f2e7c7c3fccdf$var$createMarkup","innerHTML","imageSrc","poster_path","overview","releaseDate","Date","release_date","getDate","toString","padStart","getMonth","getFullYear","vote_average","vote_count","popularity","filter","genre","genre_ids","slice","includes","id","map","name","join"],"version":3,"file":"film-month.ff81bcb8.js.map"}