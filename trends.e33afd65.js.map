{"mappings":"2MAAA,IAAAA,EAAAC,EAAA,SAEC,WACC,MAEMC,SAFc,EAAAF,EAAAG,UAAS,IAENC,QAAQC,MAAM,EAAG,GAElCC,QAAe,EAAAN,EAAAO,aACrB,IAAIC,EAAe,GAEnB,GAAIC,OAAOC,YAAc,IAAK,CAC5B,MAAMC,EAAOT,EAAS,GACtBM,QAAqBI,EAAiBD,EAAML,E,MAE5C,IAAK,MAAMK,KAAQT,EACjBM,SAAsBI,EAAiBD,EAAML,GAIjDO,SAASC,cAAc,uBAAuBC,UAAYP,CAC3D,EAlBA,GAoBD,MAAMI,EAAmBI,MAAOL,EAAML,KACpC,MACMW,EADU,kDACWN,EAAKO,cAC1BC,EAAQR,EAAKS,eACbC,EAAcV,EAAKW,aAAaC,MAAM,KAAK,GAC3CC,EAAcb,EAAKc,aAOzB,MAAO,kEACWR,6GAGiBE,oDAThBb,EAChBoB,QAAQC,GAAUhB,EAAKiB,UAAUvB,MAAM,EAAG,GAAGwB,SAASF,EAAMG,MAC5DC,KAAI,EAACC,KAAEA,KAAWA,IAClBC,KAAK,0CAOgFZ,2DAE1DG,sCAEpB,C","sources":["src/javascript/trends.js"],"sourcesContent":["import { getFilms, getGenres } from './api';\n\n(async () => {\n  const films = await getFilms(1);\n\n  const topThree = films.results.slice(0, 3);\n\n  const genres = await getGenres();\n  let resultMarkup = '';\n\n  if (window.innerWidth <= 768) {\n    const film = topThree[0];\n    resultMarkup = await createItemMarkup(film, genres);\n  } else {\n    for (const film of topThree) {\n      resultMarkup += await createItemMarkup(film, genres);\n    }\n  }\n\n  document.querySelector('.weekly_trends_list').innerHTML = resultMarkup;\n})();\n\nconst createItemMarkup = async (film, genres) => {\n  const baseUrl = 'https://image.tmdb.org/t/p/w600_and_h900_bestv2';\n  const imageSrc = baseUrl + film.backdrop_path;\n  const title = film.original_title;\n  const releaseYear = film.release_date.split('-')[0];\n  const voteAverage = film.vote_average;\n\n  const filmGenres = genres\n    .filter((genre) => film.genre_ids.slice(0, 2).includes(genre.id))\n    .map(({ name }) => name)\n    .join(', ');\n\n  return `<li class='weekly_trends_list_item film-1'>\n        <img src='${imageSrc}'>\n        <div class='weekly-trends_description'>\n          <div>\n            <h4 class='film_title'>${title}</h4>\n            <h5 class='film_description'>${filmGenres}<span class='separator'> | </span>${releaseYear}</h5>\n          </div>\n          <div class='rating'>${voteAverage}</div>\n        </div>\n      </li>`;\n};"],"names":["$dK6vY","parcelRequire","topThree","getFilms","results","slice","genres","getGenres","resultMarkup","window","innerWidth","film","$34f48d4946fd003e$var$createItemMarkup","document","querySelector","innerHTML","async","imageSrc","backdrop_path","title","original_title","releaseYear","release_date","split","voteAverage","vote_average","filter","genre","genre_ids","includes","id","map","name","join"],"version":3,"file":"trends.e33afd65.js.map"}