{"mappings":"2MAAA,IAAAA,EAAAC,EAAA,SAGA,MAAMC,EAAcC,SAASC,cAAc,SACrCC,EAAYF,SAASC,cAAc,eACnCE,EAAWH,SAASC,cAAc,cAClCG,EAAiBJ,SAASC,cAAc,wBACxCI,EAAcL,SAASC,cAAc,yBAErCK,GADcN,SAASC,cAAc,WACtBD,SAASC,cAAc,mBACtCM,EAAaP,SAASC,cAAc,sBACrBD,SAASC,cAAc,kBAE5C,IAAIO,EAAcR,SAASS,gBAAgBC,YAQ3C,SAASC,EAAmBC,GAC1BA,EAAEC,iBACFP,EAAaQ,UAAUC,OAAO,YAC9BX,EAAeU,UAAUE,IAAI,mBAC7BhB,SAASiB,KAAKH,UAAUE,IAAI,W,CAG9B,SAASE,EAAoBN,GAC3BN,EAAaQ,UAAUE,IAAI,YAC3BZ,EAAeU,UAAUC,OAAO,mBAChCf,SAASiB,KAAKH,UAAUC,OAAO,W,CAsCjC,SAASI,EAAgBC,EAAKC,GAC5B,OAAOC,KAAKC,MAAMD,KAAKE,UAAYH,EAAMD,EAAM,IAAMA,C,CAtDnDZ,EAAc,MAChBL,EAASsB,YAActB,EAASsB,YAAYC,MAAM,EAAG,MAmCvDC,iBACE,IASE,aARuB9B,EAAA+B,QAAMC,IAAI,gDAAiD,CAChFC,OAAQ,CAAEC,SAAU,SACpBC,QAAS,CACPC,OAAQ,mBACRC,cACE,iOAGUC,I,CAChB,MAAOC,GAEP,MADAC,QAAQD,MAAMA,GACRA,C,EASVE,GACGC,MAAKC,IACJ,MAAMC,MAAEA,EAAKC,KAAEA,EAAIC,SAAEA,EAAQC,cAAEA,EAAaC,GAAEA,GAAOL,EAAKM,QAAQ3B,EAAgB,EAAG,MAzCzFQ,eAA4BkB,GAC1B,IASE,aARuBhD,EAAA+B,QAAMC,IAAI,sCAAsCgB,WAAa,CAClFf,OAAQ,CAAEC,SAAU,SACpBC,QAAS,CACPC,OAAQ,mBACRC,cACE,iOAGUC,KAAKW,O,CACrB,MAAOV,GAEP,MADAC,QAAQD,MAAMA,GACRA,C,GA8BNW,CAAaF,GACVN,MAAKJ,IACJ,MAAMa,EAAab,EAAKhB,EAAgB,EAAGgB,EAAKc,SAASC,KAuCjE,SAAiCL,GAChB,IAAIM,GAAGC,OAAO,gBAAiB,CAC5CC,OAAQ,MACRC,MAAO,MACPC,QAASV,G,CA1CLW,CAAwBR,GACxBzC,EAAWO,UAAUE,IAAI,oBACzBqB,QAAQoB,IAAItB,GACZE,QAAQoB,IAAI,iCAAiCT,IAAa,IAE3DU,OAAMtB,IACL7B,EAAWO,UAAUC,OAAO,oBAC5BsB,QAAQD,MAAMA,EAAM,IAGxBrC,EAAY4D,MAAMC,WAAa,iHAAiHhB,MAChJ7C,EAAY4D,MAAME,iBAAmB,YACrC9D,EAAY4D,MAAMG,eAAiB,QAEnC5D,EAAU6D,UAAYtB,GAASC,EAC/BvC,EAAS4D,UAAY,GAAGpB,EAASjB,MAAM,EAAG,SAEtClB,GAAe,KAAOA,EAAc,OACtCN,EAAUyD,MAAMK,WAAa,OAC7B7D,EAAS4D,UAAY,GAAGpB,EAASjB,MAAM,EAAG,WAExClB,GAAe,OACjBN,EAAUyD,MAAMK,WAAa,QAC7B7D,EAAS4D,UAAY,GAAGpB,EAASjB,MAAM,EAAG,WAG5CtB,EAAeqB,YAAc,gBAC7BpB,EAAYS,UAAUC,OAAO,YAC7BX,EAAe6D,iBAAiB,QAAStD,GACzCJ,EAAW0D,iBAAiB,QAAS/C,EAAoB,IAE1DwC,OAAMtB,IACLhC,EAAeqB,YAAc,cAC7BpB,EAAYS,UAAUE,IAAI,YAC1BqB,QAAQD,MAAMA,EAAM,G","sources":["src/javascript/hero.js"],"sourcesContent":["import axios from 'axios';\n\n// DOM ELEMENTS\nconst heroSection = document.querySelector('.hero');\nconst heroTitle = document.querySelector('.hero-title');\nconst heroText = document.querySelector('.hero-text');\nconst heroTrailerBTN = document.querySelector('.hero-getstarted-btn');\nconst heroMoreBTN = document.querySelector('.hero-moredetails-btn');\nconst heroRaiting = document.querySelector('.rating');\nconst trailerModal = document.querySelector('.trailer-modal');\nconst closeModal = document.querySelector('.trailer-svg-close');\nconst trailerVideo = document.querySelector('.trailer-video');\n\nlet screenWidth = document.documentElement.clientWidth;\n\n// SLICE HERO TEXT\nif (screenWidth < 768) {\n  heroText.textContent = heroText.textContent.slice(0, 120);\n}\n\n// EVENT HANDLERS\nfunction onOpenModalTrailer(e) {\n  e.preventDefault();\n  trailerModal.classList.remove('ishidden');\n  heroTrailerBTN.classList.add('blocked-element');\n  document.body.classList.add('noScroll');\n}\n\nfunction onCloseModalTrailer(e) {\n  trailerModal.classList.add('ishidden');\n  heroTrailerBTN.classList.remove('blocked-element');\n  document.body.classList.remove('noScroll');\n}\n\n// TRAILER VIDEO\nasync function fetchTrailer(id) {\n  try {\n    const response = await axios.get(`https://api.themoviedb.org/3/movie/${id}/videos`, {\n      params: { language: 'en-US' },\n      headers: {\n        accept: 'application/json',\n        Authorization:\n          'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwZmE1ZDU3ODY5YzBmYzQ2YWI2YjI3MDJhZDllNjZmZSIsInN1YiI6IjY0NzhjNTUwMGUyOWEyMDExNmFiOGIwNCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.6ciIvtOhfPeTztNv-gkHSd2chqAc4xOBK5Ti6nPXDtE',\n      },\n    });\n    return response.data.results;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n}\n\nasync function fetchTrendingFilmsOfDay() {\n  try {\n    const response = await axios.get('https://api.themoviedb.org/3/trending/all/day', {\n      params: { language: 'en-US' },\n      headers: {\n        accept: 'application/json',\n        Authorization:\n          'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwZmE1ZDU3ODY5YzBmYzQ2YWI2YjI3MDJhZDllNjZmZSIsInN1YiI6IjY0NzhjNTUwMGUyOWEyMDExNmFiOGIwNCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.6ciIvtOhfPeTztNv-gkHSd2chqAc4xOBK5Ti6nPXDtE',\n      },\n    });\n    return response.data;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n}\n\nfunction getRandomNumber(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\n// Load the trending films and set up the hero section\nfetchTrendingFilmsOfDay()\n  .then(data => {\n    const { title, name, overview, backdrop_path, id } = data.results[getRandomNumber(0, 20)];\n\n    fetchTrailer(id)\n      .then(data => {\n        const trailerKey = data[getRandomNumber(0, data.length)].key;\n        onYouTubeIframeAPIReady(trailerKey);\n        closeModal.classList.add('inother-position');\n        console.log(data);\n        console.log(`https://www.youtube.com/embed/${trailerKey}`);\n      })\n      .catch(error => {\n        closeModal.classList.remove('inother-position');\n        console.error(error);\n      });\n\n    heroSection.style.background = `linear-gradient(86.47deg, #111111 33.63%, rgba(17, 17, 17, 0) 76.86%),url('https://image.tmdb.org/t/p/original${backdrop_path}')`;\n    heroSection.style.backgroundRepeat = 'no-repeat';\n    heroSection.style.backgroundSize = 'cover';\n\n    heroTitle.innerHTML = title || name;\n    heroText.innerHTML = `${overview.slice(0, 90)}...`;\n\n    if (screenWidth >= 768 && screenWidth < 1280) {\n      heroTitle.style.paddingTop = '96px';\n      heroText.innerHTML = `${overview.slice(0, 200)}...`;\n    }\n    if (screenWidth >= 1280) {\n      heroTitle.style.paddingTop = '178px';\n      heroText.innerHTML = `${overview.slice(0, 250)}...`;\n    }\n\n    heroTrailerBTN.textContent = 'Watch trailer';\n    heroMoreBTN.classList.remove('ishidden');\n    heroTrailerBTN.addEventListener('click', onOpenModalTrailer);\n    closeModal.addEventListener('click', onCloseModalTrailer);\n  })\n  .catch(error => {\n    heroTrailerBTN.textContent = 'Get Started';\n    heroMoreBTN.classList.add('ishidden');\n    console.error(error);\n  });\n\n// YOUTUBE PLAYER\nfunction onYouTubeIframeAPIReady(id) {\n  const player = new YT.Player('trailer-video', {\n    height: '240',\n    width: '320',\n    videoId: id,\n  });\n}"],"names":["$2shzp","parcelRequire","$4ac8f69bad660a77$var$heroSection","document","querySelector","$4ac8f69bad660a77$var$heroTitle","$4ac8f69bad660a77$var$heroText","$4ac8f69bad660a77$var$heroTrailerBTN","$4ac8f69bad660a77$var$heroMoreBTN","$4ac8f69bad660a77$var$trailerModal","$4ac8f69bad660a77$var$closeModal","$4ac8f69bad660a77$var$screenWidth","documentElement","clientWidth","$4ac8f69bad660a77$var$onOpenModalTrailer","e","preventDefault","classList","remove","add","body","$4ac8f69bad660a77$var$onCloseModalTrailer","$4ac8f69bad660a77$var$getRandomNumber","min","max","Math","floor","random","textContent","slice","async","default","get","params","language","headers","accept","Authorization","data","error","console","$4ac8f69bad660a77$var$fetchTrendingFilmsOfDay","then","data1","title","name","overview","backdrop_path","id","results","$4ac8f69bad660a77$var$fetchTrailer","trailerKey","length","key","YT","Player","height","width","videoId","$4ac8f69bad660a77$var$onYouTubeIframeAPIReady","log","catch","style","background","backgroundRepeat","backgroundSize","innerHTML","paddingTop","addEventListener"],"version":3,"file":"hero.dbb0df14.js.map"}