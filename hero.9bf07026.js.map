{"mappings":"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","sources":["src/javascript/hero.js","src/javascript/utils.js"],"sourcesContent":["import axios from 'axios';\nimport { renderStars, getRandomNumber } from './utils';\n\n// YUOTUBE_PLAYER====================================\nlet player;\n\nfunction onYouTubeIframeAPIReady(id) {\n  player = new YT.Player('trailer-video', {\n    height: '240',\n    width: '320',\n    videoId: `${id}`,\n  });\n}\n\n// DOM ELEMENTS================================================\nconst heroSection = document.querySelector('.hero');\nconst heroTitle = document.querySelector('.hero-title');\nconst heroText = document.querySelector('.hero-text');\nconst heroTrailerBTN = document.querySelector('.hero-getstarted-btn');\nconst heroMoreBTN = document.querySelector('.hero-moredetails-btn');\nconst heroRating = document.querySelector('.rating-box');\nconst trailerModal = document.querySelector('.trailer-modal');\nconst closeModal = document.querySelector('.trailer-svg-close');\n\n// =============================================================\nlet screenWidth = document.documentElement.clientWidth;\n\n// SLICE HERO TEXT =======================================\nif (screenWidth < 768) {\n  heroText.textContent = heroText.textContent.slice(0, 120);\n}\nif (screenWidth >= 768) {\n  heroText.textContent = heroText.textContent.slice(0);\n}\n\n// EVENT FUNCTION=====================================\n\nfunction handleKeyDown(event) {\n  if (event.key === 'Escape') {\n    trailerModal.classList.add('ishidden');\n    heroTrailerBTN.classList.remove('blocked-element');\n    document.removeEventListener('keydown', handleKeyDown);\n    if (closeModal.classList.contains('inother-position')) {\n      player.pauseVideo();\n    }\n  }\n}\n\nfunction onCloseTouchBody(event) {\n  if (\n    event.target.classList.contains('hero-wrapper-btn') ||\n    event.target.classList.contains('hero-getstarted-btn')\n  ) {\n    return;\n  }\n  if (!trailerModal.contains(event.target)) {\n    trailerModal.classList.add('ishidden');\n    heroTrailerBTN.classList.remove('blocked-element');\n    document.removeEventListener('click', onCloseTouchBody);\n  }\n}\n\nfunction onOpenModalTrailer(e) {\n  e.preventDefault();\n  trailerModal.classList.remove('ishidden');\n  heroTrailerBTN.classList.add('blocked-element');\n  document.addEventListener('keydown', handleKeyDown);\n  document.addEventListener('click', onCloseTouchBody);\n}\n\nfunction onCloseModalTrailer() {\n  trailerModal.classList.add('ishidden');\n  heroTrailerBTN.classList.remove('blocked-element');\n  document.removeEventListener('keydown', handleKeyDown);\n  if (closeModal.classList.contains('inother-position')) {\n    player.pauseVideo();\n  }\n}\n\n//TRAILER_VIDEO ===========================================================\nasync function trailer(id) {\n  const options = {\n    method: 'GET',\n    url: `https://api.themoviedb.org/3/movie/${id}/videos`,\n    params: { language: 'en-US' },\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwZmE1ZDU3ODY5YzBmYzQ2YWI2YjI3MDJhZDllNjZmZSIsInN1YiI6IjY0NzhjNTUwMGUyOWEyMDExNmFiOGIwNCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.6ciIvtOhfPeTztNv-gkHSd2chqAc4xOBK5Ti6nPXDtE',\n    },\n  };\n  const response = await axios.request(options);\n  return response.data.results;\n}\n\nasync function trendingFilms_DAY() {\n  const options = {\n    method: 'GET',\n    url: 'https://api.themoviedb.org/3/trending/all/day',\n    params: { language: 'en-US' },\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwZmE1ZDU3ODY5YzBmYzQ2YWI2YjI3MDJhZDllNjZmZSIsInN1YiI6IjY0NzhjNTUwMGUyOWEyMDExNmFiOGIwNCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.6ciIvtOhfPeTztNv-gkHSd2chqAc4xOBK5Ti6nPXDtE',\n    },\n  };\n\n  const response = await axios.request(options);\n  return response.data;\n}\n\ntrendingFilms_DAY()\n  .then(data => {\n    const {\n      title = '',\n      name = '',\n      overview = '',\n      backdrop_path = '',\n      id,\n      vote_average,\n    } = data.results[getRandomNumber(0, 20)];\n\n    trailer(id)\n      .then(data => {\n        if (data.length === 0) {\n          return;\n        }\n        onYouTubeIframeAPIReady(data[getRandomNumber(0, data.length)].key);\n        closeModal.classList.add('inother-position');\n      })\n      .catch(e => {\n        closeModal.classList.remove('inother-position');\n      });\n\n    heroSection.style = `\n    max-width: 1280px;\n    margin: 0 auto;\n   background: linear-gradient(86.47deg, #111111 33.63%, rgba(17, 17, 17, 0) 76.86%),url('https://image.tmdb.org/t/p/original${backdrop_path}');\n   background-repeat: no-repeat;\n   background-position: center;\n   background-size: cover;\n    `;\n\n    renderStars(heroRating, vote_average);\n\n    heroTitle.innerHTML = `${title || name}`;\n    heroText.innerHTML = `${overview.slice(0, 90)}...`;\n\n    if (screenWidth >= 768 && screenWidth < 1280) {\n      heroRating.style.padding = '17px 0 ';\n      heroTitle.style.paddingTop = '96px';\n      heroText.innerHTML = `${overview.slice(0, 200)}...`;\n    }\n    if (screenWidth >= 1280) {\n      heroRating.style.padding = '17px 0 ';\n      heroTitle.style.paddingTop = '178px';\n      heroText.innerHTML = `${overview.slice(0, 250)}...`;\n    }\n\n    heroTrailerBTN.textContent = 'Watch trailer';\n    heroMoreBTN.classList.remove('ishidden');\n    heroTrailerBTN.classList.remove('is-hidden');\n\n    if (heroTrailerBTN.textContent === 'Watch trailer') {\n      heroTrailerBTN.addEventListener('click', onOpenModalTrailer);\n    }\n\n    closeModal.addEventListener('click', onCloseModalTrailer);\n  })\n  .catch(e => {\n    heroTrailerBTN.textContent = 'Get Started';\n    heroMoreBTN.classList.add('ishidden');\n    heroRating.classList.add('ishidden');\n  });\n","function round(number, digits) {\n  return Math.round(number * digits) / digits;\n}\n\nconst getRandomNumber = (min, max) => {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\n\nfunction renderStars(element, rating) {\n  return (element.innerHTML = `\n    <div class=\"film_rating\" style=\"--rating:${\n      rating / 2\n    };\" aria-label=\"Rating of this film is ${Math.round(\n    rating / 2\n  )} out of 5.\"></div>\n`);\n}\n\nexport { round, getRandomNumber, renderStars };\n"],"names":["$2shzp","parcelRequire","$4ac8f69bad660a77$var$player","$4ac8f69bad660a77$var$heroSection","document","querySelector","$4ac8f69bad660a77$var$heroTitle","$4ac8f69bad660a77$var$heroText","$4ac8f69bad660a77$var$heroTrailerBTN","$4ac8f69bad660a77$var$heroMoreBTN","$4ac8f69bad660a77$var$heroRating","$4ac8f69bad660a77$var$trailerModal","$4ac8f69bad660a77$var$closeModal","$4ac8f69bad660a77$var$screenWidth","documentElement","clientWidth","$4ac8f69bad660a77$var$handleKeyDown","event","key","classList","add","remove","removeEventListener","contains","pauseVideo","$4ac8f69bad660a77$var$onCloseTouchBody","target","$4ac8f69bad660a77$var$onOpenModalTrailer","e","preventDefault","addEventListener","$4ac8f69bad660a77$var$onCloseModalTrailer","textContent","slice","async","default","request","method","url","params","language","headers","accept","Authorization","data","$4ac8f69bad660a77$var$trendingFilms_DAY","then","data1","title","name","overview","backdrop_path","id","vote_average","results","$9Wu9X","getRandomNumber","options","$4ac8f69bad660a77$var$trailer","length","YT","Player","height","width","videoId","$4ac8f69bad660a77$var$onYouTubeIframeAPIReady","catch","style","renderStars","innerHTML","padding","paddingTop","$73d0ece61bfba828$export$2077e0241d6afd3c","number","digits","Math","round","$73d0ece61bfba828$export$eab19c48dcb6310d","min","max","floor","random","$73d0ece61bfba828$export$6b958f153b36132a","element","rating"],"version":3,"file":"hero.9bf07026.js.map"}