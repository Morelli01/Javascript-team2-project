function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){i[e]=t},t.parcelRequired7c6=r);var s=r("fb9GJ"),o=r("i0Y6p");document.addEventListener("DOMContentLoaded",(function(){const t=document.querySelector(".search_film_list"),n=document.querySelector(".dropdown-button"),i=document.querySelector(".dropdown-content"),r=document.querySelector(".genre-list"),l=document.querySelector(".error-section"),a=document.querySelector(".library-section");document.querySelector(".dropdown");let c={};const d=new(0,o.filmAPI);function g(e){e.length>0?(t.innerHTML=function(e){return e.map((({poster_path:e,original_name:t,original_title:n,genre_ids:i,release_date:r,vote_average:s,first_air_date:o})=>{let l=e?`https://image.tmdb.org/t/p/original${e}`:"https://www.tgv.com.my/assets/images/404/movie-poster.jpg";const a=function(e,t){return void 0!==e?e.split("-")[0]:t.split("-")[0]}(r,o);return`<li class="search_film_img_wrap">\n            <img src="${l}" alt="${t||n}" width="395" height="574" class="search_film_img" />\n            <div class="wrap">\n              <div class="search_film_wrap">\n                <p class="search_film_title">${t||n}</p>\n                <p class="search_film_genre">${function(e){let t=e.filter((e=>void 0!==e)).map((e=>c[e]));t.length>2&&(t=t.slice(0,2));return 0===t.length?"Film":t.join(", ")}(i)} | ${a}</p>\n                <p class="stars ${s?"":"is-hidden"}">${s}</p> \x3c!-- Использование класса --\x3e\n              </div>\n            </div>\n          </li>`})).join("")}(e),l.classList.add("is-hidden"),a.classList.remove("is-hidden")):(t.innerHTML="",l.classList.remove("is-hidden"),a.classList.add("is-hidden"))}function u(t){const n=document.getElementById("pagination2"),i={totalItems:t,itemsPerPage:12,visiblePages:5,centerAlign:!0};new(e(s))(n,i).on("afterMove",(e=>{const t=12*(e.page-1),n=t+12;d.getCategories().then((e=>{g(e.slice(t,n))})).catch((e=>{console.log(e)}))}))}d.getCategoriesGenres().then((e=>(e.forEach((({id:e,name:t})=>{c[e]=t})),d.getCategories()))).then((e=>{g(e),u(e.length)})).catch((e=>{console.log(e)})),n.addEventListener("click",(()=>{i.classList.toggle("active")})),r.addEventListener("click",(e=>{const t=e.target.dataset.genre;if("All"===t)d.getCategories().then((e=>{g(e),u(e.length)}));else{Object.keys(c).find((e=>c[e]===t));d.getCategoriesQuery(t).then((e=>{g(e),u(e.length)}))}i.classList.remove("active")}))}));
//# sourceMappingURL=my-library.5fe31199.js.map
