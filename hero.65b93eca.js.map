{"mappings":"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","sources":["src/javascript/hero.js","src/javascript/utils.js"],"sourcesContent":["import axios from 'axios';\nimport { renderStars, getRandomNumber } from './utils';\n\n// YUOTUBE_PLAYER====================================\nlet player;\n\nfunction onYouTubeIframeAPIReady(id) {\n  player = new YT.Player('trailer-video', {\n    height: '240',\n    width: '320',\n    videoId: `${id}`,\n  });\n}\n\n// DOM ELEMENTS================================================\nconst heroSection = document.querySelector('.hero');\nconst heroTitle = document.querySelector('.hero-title');\nconst heroText = document.querySelector('.hero-text');\nconst heroTrailerBTN = document.querySelector('.hero-getstarted-btn');\nconst heroMoreBTN = document.querySelector('.hero-moredetails-btn');\nconst heroRating = document.querySelector('.rating-box');\nconst trailerModal = document.querySelector('.trailer-modal');\nconst closeModal = document.querySelector('.trailer-svg-close');\n\n// =============================================================\nlet screenWidth = document.documentElement.clientWidth;\n\n// SLICE HERO TEXT =======================================\nif (screenWidth < 768) {\n  heroText.textContent = heroText.textContent.slice(0, 120);\n}\nif (screenWidth >= 768) {\n  heroText.textContent = heroText.textContent.slice(0);\n}\n\n// EVENT FUNCTION=====================================\n\nfunction handleKeyDown(event) {\n  if (event.key === 'Escape') {\n    trailerModal.classList.add('ishidden');\n    heroTrailerBTN.classList.remove('blocked-element');\n    document.removeEventListener('keydown', handleKeyDown);\n    if (closeModal.classList.contains('inother-position')) {\n      player.pauseVideo();\n    }\n  }\n}\n\nfunction onOpenModalTrailer(e) {\n  e.preventDefault();\n  trailerModal.classList.remove('ishidden');\n  heroTrailerBTN.classList.add('blocked-element');\n  document.addEventListener('keydown', handleKeyDown);\n\n  // document.body.classList.add('noScroll');\n}\n\nfunction onCloseModalTrailer() {\n  trailerModal.classList.add('ishidden');\n  heroTrailerBTN.classList.remove('blocked-element');\n  document.removeEventListener('keydown', handleKeyDown);\n  if (closeModal.classList.contains('inother-position')) {\n    player.pauseVideo();\n  }\n  // document.body.classList.remove('noScroll');\n}\n\n//TRAILER_VIDEO ===========================================================\nasync function trailer(id) {\n  const options = {\n    method: 'GET',\n    url: `https://api.themoviedb.org/3/movie/${id}/videos`,\n    params: { language: 'en-US' },\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwZmE1ZDU3ODY5YzBmYzQ2YWI2YjI3MDJhZDllNjZmZSIsInN1YiI6IjY0NzhjNTUwMGUyOWEyMDExNmFiOGIwNCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.6ciIvtOhfPeTztNv-gkHSd2chqAc4xOBK5Ti6nPXDtE',\n    },\n  };\n  const response = await axios.request(options);\n  return response.data.results;\n}\n\nasync function trendingFilms_DAY() {\n  const options = {\n    method: 'GET',\n    url: 'https://api.themoviedb.org/3/trending/all/day',\n    params: { language: 'en-US' },\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwZmE1ZDU3ODY5YzBmYzQ2YWI2YjI3MDJhZDllNjZmZSIsInN1YiI6IjY0NzhjNTUwMGUyOWEyMDExNmFiOGIwNCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.6ciIvtOhfPeTztNv-gkHSd2chqAc4xOBK5Ti6nPXDtE',\n    },\n  };\n\n  const response = await axios.request(options);\n  return response.data;\n}\n\ntrendingFilms_DAY()\n  .then(data => {\n    const {\n      title = '',\n      name = '',\n      overview = '',\n      backdrop_path = '',\n      id,\n      vote_average,\n    } = data.results[getRandomNumber(0, 20)];\n\n    trailer(id)\n      .then(data => {\n        if (data.length === 0) {\n          return;\n        }\n        onYouTubeIframeAPIReady(data[getRandomNumber(0, data.length)].key);\n        closeModal.classList.add('inother-position');\n      })\n      .catch(e => {\n        closeModal.classList.remove('inother-position');\n      });\n\n    heroSection.style = `\n    max-width: 1280px;\n    margin: 0 auto;\n   background: linear-gradient(86.47deg, #111111 33.63%, rgba(17, 17, 17, 0) 76.86%),url('https://image.tmdb.org/t/p/original${backdrop_path}');\n   background-repeat: no-repeat;\n   background-position: center;\n   background-size: cover;\n    `;\n\n    renderStars(heroRating, vote_average);\n\n    heroTitle.innerHTML = `${title || name}`;\n    heroText.innerHTML = `${overview.slice(0, 90)}...`;\n\n    if (screenWidth >= 768 && screenWidth < 1280) {\n      heroRating.style.padding = '17px 0 ';\n      heroTitle.style.paddingTop = '96px';\n      heroText.innerHTML = `${overview.slice(0, 200)}...`;\n    }\n    if (screenWidth >= 1280) {\n      heroRating.style.padding = '17px 0 ';\n      heroTitle.style.paddingTop = '178px';\n      heroText.innerHTML = `${overview.slice(0, 250)}...`;\n    }\n\n    heroTrailerBTN.textContent = 'Watch trailer';\n    heroMoreBTN.classList.remove('ishidden');\n    heroTrailerBTN.classList.remove('is-hidden');\n\n    if (heroTrailerBTN.textContent === 'Watch trailer') {\n      heroTrailerBTN.addEventListener('click', onOpenModalTrailer);\n    }\n\n    closeModal.addEventListener('click', onCloseModalTrailer);\n  })\n  .catch(e => {\n    heroTrailerBTN.textContent = 'Get Started';\n    heroMoreBTN.classList.add('ishidden');\n    heroRating.classList.add('ishidden');\n  });\n","function round(number, digits) {\n  return Math.round(number * digits) / digits;\n}\n\nconst getRandomNumber = (min, max) => {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\n\nfunction renderStars(element, rating) {\n  return (element.innerHTML = `\n    <div class=\"film_rating\" style=\"--rating:${\n      rating / 2\n    };\" aria-label=\"Rating of this film is ${Math.round(\n    rating / 2\n  )} out of 5.\"></div>\n`);\n}\n\nexport { round, getRandomNumber, renderStars };\n"],"names":["$1cfa82f011f70f7e$var$player","$bpxeT","parcelRequire","$1cfa82f011f70f7e$var$heroSection","document","querySelector","$1cfa82f011f70f7e$var$heroTitle","$1cfa82f011f70f7e$var$heroText","$1cfa82f011f70f7e$var$heroTrailerBTN","$1cfa82f011f70f7e$var$heroMoreBTN","$1cfa82f011f70f7e$var$heroRating","$1cfa82f011f70f7e$var$trailerModal","$1cfa82f011f70f7e$var$closeModal","$1cfa82f011f70f7e$var$screenWidth","documentElement","clientWidth","$1cfa82f011f70f7e$var$handleKeyDown","event","key","classList","add","remove","removeEventListener","contains","pauseVideo","$1cfa82f011f70f7e$var$onOpenModalTrailer","e","preventDefault","addEventListener","$1cfa82f011f70f7e$var$onCloseModalTrailer","$1cfa82f011f70f7e$var$_trailer","$parcel$interopDefault","$2TvXO","mark","_callee","id","options","response","method","url","concat","params","language","headers","accept","Authorization","$dIxxU","default","request","_ctx","sent","data","results","apply","this","arguments","$1cfa82f011f70f7e$var$_trendingFilms_DAY","textContent","slice","$1cfa82f011f70f7e$var$trendingFilms_DAY","then","data1","ref","$3RRSf","getRandomNumber","_title","title","_name","name","_overview","overview","_backdrop_path","backdrop_path","vote_average","$1cfa82f011f70f7e$var$trailer","length","YT","Player","height","width","videoId","$1cfa82f011f70f7e$var$onYouTubeIframeAPIReady","catch","style","renderStars","innerHTML","padding","paddingTop","$2d101c92898a7d81$export$2077e0241d6afd3c","number","digits","Math","round","$2d101c92898a7d81$export$eab19c48dcb6310d","min","max","floor","random","$2d101c92898a7d81$export$6b958f153b36132a","element","rating"],"version":3,"file":"hero.65b93eca.js.map"}