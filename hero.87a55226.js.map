{"mappings":"wQAAA,IAAAA,EAAAC,EAAA,S,0BAGMC,EAAcC,SAASC,cAAc,SACrCC,EAAYF,SAASC,cAAc,eACnCE,EAAWH,SAASC,cAAc,cAClCG,EAAiBJ,SAASC,cAAc,wBACxCI,EAAcL,SAASC,cAAc,yBAErCK,GADcN,SAASC,cAAc,YACtBD,SAASC,cAAc,mBACtCM,EAAaP,SAASC,cAAc,sBAItCO,GAHiBR,SAASC,cAAc,kBAG1BD,SAASS,gBAAgBC,aAU3C,SAASC,EAAgBC,EAAKC,GAC5B,OAAOC,KAAKC,MAAMD,KAAKE,UAAYH,EAAMD,EAAM,IAAMA,C,CAKvD,SAASK,EAAmBC,GAC1BA,EAAEC,iBACFb,EAAac,UAAUC,OAAO,YAC9BjB,EAAegB,UAAUE,IAAI,mBAC7BtB,SAASuB,KAAKH,UAAUE,IAAI,W,CAG9B,SAASE,EAAoBN,GAC3BZ,EAAac,UAAUE,IAAI,YAC3BlB,EAAegB,UAAUC,OAAO,mBAChCrB,SAASuB,KAAKH,UAAUC,OAAO,W,UAIlBI,I,OAAAA,EAAfC,EAAA7B,EAAA,CAAA6B,EAAAC,GAAAC,MAAA,SAAAC,EAAuBC,G,IACfC,EAUAC,E,yEAVAD,EAAU,CACdE,OAAQ,MACRC,IAAK,sCAAyCC,OAAHL,EAAG,WAC9CM,OAAQ,CAAEC,SAAU,SACpBC,QAAS,CACPC,OAAQ,mBACRC,cACE,+N,SAGiBC,EAAAC,QAAMC,QAAQZ,G,cAA/BC,EAAQY,EAAAC,K,kBACPb,EAASc,KAAKC,S,4CAZDC,MAAAC,KAAAC,U,UAePC,I,OAAAA,EAAfzB,EAAA7B,EAAA,CAAA6B,EAAAC,GAAAC,MAAA,SAAAC,I,IACQE,EAWAC,E,yEAXAD,EAAU,CACdE,OAAQ,MACRC,IAAK,gDACLE,OAAQ,CAAEC,SAAU,SACpBC,QAAS,CACPC,OAAQ,mBACRC,cACE,+N,SAIiBC,EAAAC,QAAMC,QAAQZ,G,cAA/BC,EAAQY,EAAAC,KACdO,QAAQC,IAAIrB,EAASc,M,kBACdd,EAASc,M,4CAdcE,MAAAC,KAAAC,U,CA1C5B1C,EAAc,MAChBL,EAASmD,YAAcnD,EAASmD,YAAYC,MAAM,EAAG,MAEnD/C,GAAe,MACjBL,EAASmD,YAAcnD,EAASmD,YAAYC,MAAM,I,kBAsCrCJ,EAAiBH,MAAAC,KAAAC,U,CAiBhCM,GACGC,MAAK,SAAAC,GACJ,IAMIC,EAAAD,EAAKX,QAAQpC,EAAgB,EAAG,KAAIiD,EAApCD,EALFE,aAAK,IAAAD,EAAG,GAAEA,EAAAE,EAKRH,EAJFI,YAAI,IAAAD,EAAG,GAAEA,EAAAE,EAIPL,EAHFM,gBAAQ,IAAAD,EAAG,GAAEA,EAAAE,EAGXP,EAFFQ,qBAAa,IAAAD,EAAG,GAAEA,G,SAtCDpC,G,OAARL,EAAOuB,MAAAC,KAAAC,U,EA0ClBkB,CAFIT,EADF7B,IAIC2B,MAAK,SAAAX,IAwDZ,SAAiChB,GAChB,IAAIuC,GAAGC,OAAO,gBAAiB,CAC5CC,OAAQ,MACRC,MAAO,MACPC,QAAS,GAAMtC,OAAHL,I,CA3DR4C,CAAwB5B,EAAKnC,EAAgB,EAAGmC,EAAK6B,SAASC,KAC9DrE,EAAWa,UAAUE,IAAI,oBACzB8B,QAAQC,IAAIP,GACZM,QAAQC,IAAI,iCAA6ClB,OAAZW,EAAK,GAAG8B,K,IAEtDC,OAAM,SAAA3D,GACLX,EAAWa,UAAUC,OAAO,oBAC5B+B,QAAQC,IAAInC,E,IAGhBnB,EAAY+E,MAAQ,kIACqH3C,OAAdgC,EAAc,2EAKzIjE,EAAU6E,UAAY,GAAiB5C,OAAd0B,GAASE,GAClC5D,EAAS4E,UAAY,GAAyB5C,OAAtB8B,EAASV,MAAM,EAAG,IAAI,OAE1C/C,GAAe,KAAOA,EAAc,OACtCN,EAAU4E,MAAME,WAAa,OAC7B7E,EAAS4E,UAAY,GAA0B5C,OAAvB8B,EAASV,MAAM,EAAG,KAAK,QAE7C/C,GAAe,OACjBN,EAAU4E,MAAME,WAAa,QAC7B7E,EAAS4E,UAAY,GAA0B5C,OAAvB8B,EAASV,MAAM,EAAG,KAAK,QAGjDnD,EAAekD,YAAc,gBAC7BjD,EAAYe,UAAUC,OAAO,YAGM,kBAA/BjB,EAAekD,aACjBlD,EAAe6E,iBAAiB,QAAShE,GAG3CV,EAAW0E,iBAAiB,QAASzD,E,IAEtCqD,OAAM,SAAA3D,GACLd,EAAekD,YAAc,cAC7BjD,EAAYe,UAAUE,IAAI,YAC1B8B,QAAQC,IAAInC,E","sources":["src/javascript/hero.js"],"sourcesContent":["import axios from 'axios';\n\n// DOM ELEMENTS================================================\nconst heroSection = document.querySelector('.hero');\nconst heroTitle = document.querySelector('.hero-title');\nconst heroText = document.querySelector('.hero-text');\nconst heroTrailerBTN = document.querySelector('.hero-getstarted-btn');\nconst heroMoreBTN = document.querySelector('.hero-moredetails-btn');\nconst heroRaiting = document.querySelector('.reiting');\nconst trailerModal = document.querySelector('.trailer-modal');\nconst closeModal = document.querySelector('.trailer-svg-close');\nconst trailerVideo = document.querySelector('.trailer-video');\n\n// =============================================================\nlet screenWidth = document.documentElement.clientWidth;\n\n// SLICE HERO TEXT =======================================\nif (screenWidth < 768) {\n  heroText.textContent = heroText.textContent.slice(0, 120);\n}\nif (screenWidth >= 768) {\n  heroText.textContent = heroText.textContent.slice(0);\n}\n\nfunction getRandomNumber(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\n// EVENT FUNCTION=====================================\n\nfunction onOpenModalTrailer(e) {\n  e.preventDefault();\n  trailerModal.classList.remove('ishidden');\n  heroTrailerBTN.classList.add('blocked-element');\n  document.body.classList.add('noScroll');\n}\n\nfunction onCloseModalTrailer(e) {\n  trailerModal.classList.add('ishidden');\n  heroTrailerBTN.classList.remove('blocked-element');\n  document.body.classList.remove('noScroll');\n}\n\n//TRAILER_VIDEO ===========================================================\nasync function trailer(id) {\n  const options = {\n    method: 'GET',\n    url: `https://api.themoviedb.org/3/movie/${id}/videos`,\n    params: { language: 'en-US' },\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwZmE1ZDU3ODY5YzBmYzQ2YWI2YjI3MDJhZDllNjZmZSIsInN1YiI6IjY0NzhjNTUwMGUyOWEyMDExNmFiOGIwNCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.6ciIvtOhfPeTztNv-gkHSd2chqAc4xOBK5Ti6nPXDtE',\n    },\n  };\n  const response = await axios.request(options);\n  return response.data.results;\n}\n\nasync function trendingFilms_DAY() {\n  const options = {\n    method: 'GET',\n    url: 'https://api.themoviedb.org/3/trending/all/day',\n    params: { language: 'en-US' },\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwZmE1ZDU3ODY5YzBmYzQ2YWI2YjI3MDJhZDllNjZmZSIsInN1YiI6IjY0NzhjNTUwMGUyOWEyMDExNmFiOGIwNCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.6ciIvtOhfPeTztNv-gkHSd2chqAc4xOBK5Ti6nPXDtE',\n    },\n  };\n\n  const response = await axios.request(options);\n  console.log(response.data);\n  return response.data;\n}\n\ntrendingFilms_DAY()\n  .then(data => {\n    const {\n      title = '',\n      name = '',\n      overview = '',\n      backdrop_path = '',\n      id,\n    } = data.results[getRandomNumber(0, 20)];\n\n    trailer(id)\n      .then(data => {\n        onYouTubeIframeAPIReady(data[getRandomNumber(0, data.length)].key);\n        closeModal.classList.add('inother-position');\n        console.log(data);\n        console.log(`https://www.youtube.com/embed/${data[0].key}`);\n      })\n      .catch(e => {\n        closeModal.classList.remove('inother-position');\n        console.log(e);\n      });\n\n    heroSection.style = `\n   background: linear-gradient(86.47deg, #111111 33.63%, rgba(17, 17, 17, 0) 76.86%),url('https://image.tmdb.org/t/p/original${backdrop_path}');\n   background-repeat: no-repeat;\n   background-size: cover;\n    `;\n\n    heroTitle.innerHTML = `${title || name}`;\n    heroText.innerHTML = `${overview.slice(0, 90)}...`;\n\n    if (screenWidth >= 768 && screenWidth < 1280) {\n      heroTitle.style.paddingTop = '96px';\n      heroText.innerHTML = `${overview.slice(0, 200)}...`;\n    }\n    if (screenWidth >= 1280) {\n      heroTitle.style.paddingTop = '178px';\n      heroText.innerHTML = `${overview.slice(0, 250)}...`;\n    }\n\n    heroTrailerBTN.textContent = 'Watch trailer';\n    heroMoreBTN.classList.remove('ishidden');\n    // heroRaiting.classList.remove('ishidden');\n\n    if (heroTrailerBTN.textContent === 'Watch trailer') {\n      heroTrailerBTN.addEventListener('click', onOpenModalTrailer);\n    }\n\n    closeModal.addEventListener('click', onCloseModalTrailer);\n  })\n  .catch(e => {\n    heroTrailerBTN.textContent = 'Get Started';\n    heroMoreBTN.classList.add('ishidden');\n    console.log(e);\n  });\n// API=====================================\n// \"w92\": ширина 92 пикселя\n// \"w154\": ширина 154 пикселя\n// \"w185\": ширина 185 пикселей\n// \"w342\": ширина 342 пикселя\n// \"w500\": ширина 500 пикселей\n// \"w780\": ширина 780 пикселей\n// \"original\": оригинальный размер изображения\n// `https://www.youtube.com/embed/${trailer.key}`;\n\n// YUOTUBE_PLAYER====================================\n\nfunction onYouTubeIframeAPIReady(id) {\n  const player = new YT.Player('trailer-video', {\n    height: '240',\n    width: '320',\n    videoId: `${id}`,\n  });\n}\n"],"names":["$bpxeT","parcelRequire","$1cfa82f011f70f7e$var$heroSection","document","querySelector","$1cfa82f011f70f7e$var$heroTitle","$1cfa82f011f70f7e$var$heroText","$1cfa82f011f70f7e$var$heroTrailerBTN","$1cfa82f011f70f7e$var$heroMoreBTN","$1cfa82f011f70f7e$var$trailerModal","$1cfa82f011f70f7e$var$closeModal","$1cfa82f011f70f7e$var$screenWidth","documentElement","clientWidth","$1cfa82f011f70f7e$var$getRandomNumber","min","max","Math","floor","random","$1cfa82f011f70f7e$var$onOpenModalTrailer","e","preventDefault","classList","remove","add","body","$1cfa82f011f70f7e$var$onCloseModalTrailer","$1cfa82f011f70f7e$var$_trailer","$parcel$interopDefault","$2TvXO","mark","_callee","id","options","response","method","url","concat","params","language","headers","accept","Authorization","$dIxxU","default","request","_ctx","sent","data","results","apply","this","arguments","$1cfa82f011f70f7e$var$_trendingFilms_DAY","console","log","textContent","slice","$1cfa82f011f70f7e$var$trendingFilms_DAY","then","data1","ref","_title","title","_name","name","_overview","overview","_backdrop_path","backdrop_path","$1cfa82f011f70f7e$var$trailer","YT","Player","height","width","videoId","$1cfa82f011f70f7e$var$onYouTubeIframeAPIReady","length","key","catch","style","innerHTML","paddingTop","addEventListener"],"version":3,"file":"hero.87a55226.js.map"}