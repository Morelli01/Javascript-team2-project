!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},r=n.parcelRequired7c6;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in i){var n=i[e];delete i[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){i[e]=n},n.parcelRequired7c6=r);var o=r("1VFfL"),c=r("j5MaG");document.addEventListener("DOMContentLoaded",(function(){var n=document.querySelector(".search_film_list"),t=document.querySelector(".dropdown-button"),i=document.querySelector(".dropdown-content"),r=document.querySelector(".genre-list"),a=document.querySelector(".error-section"),s=document.querySelector(".library-section"),l=(document.querySelector(".dropdown"),{}),d=new(0,c.filmAPI);function u(e){e.length>0?(n.innerHTML=function(e){return e.map((function(e){var n=e.poster_path,t=e.original_name,i=e.original_title,r=e.genre_ids,o=e.release_date,c=e.vote_average,a=e.first_air_date,s=n?"https://image.tmdb.org/t/p/original".concat(n):"https://www.tgv.com.my/assets/images/404/movie-poster.jpg",d=function(e,n){return void 0!==e?e.split("-")[0]:n.split("-")[0]}(o,a),u=function(e){var n=e.filter((function(e){return void 0!==e})).map((function(e){return l[e]}));n.length>2&&(n=n.slice(0,2));return 0===n.length?"Film":n.join(", ")}(r),f=c?"":"is-hidden";return'<li class="search_film_img_wrap">\n            <img src="'.concat(s,'" alt="').concat(t||i,'" width="395" height="574" class="search_film_img" />\n            <div class="wrap">\n              <div class="search_film_wrap">\n                <p class="search_film_title">').concat(t||i,'</p>\n                <p class="search_film_genre">').concat(u," | ").concat(d,'</p>\n                <p class="stars ').concat(f,'">').concat(c,"</p> \x3c!-- Использование класса --\x3e\n              </div>\n            </div>\n          </li>")})).join("")}(e),a.classList.add("is-hidden"),s.classList.remove("is-hidden")):(n.innerHTML="",a.classList.remove("is-hidden"),s.classList.add("is-hidden"))}function f(n){var t=document.getElementById("pagination2"),i={totalItems:n,itemsPerPage:12,visiblePages:5,centerAlign:!0};new(e(o))(t,i).on("afterMove",(function(e){var n=12*(e.page-1),t=n+12;d.getCategories().then((function(e){u(e.slice(n,t))})).catch((function(e){console.log(e)}))}))}d.getCategoriesGenres().then((function(e){return e.forEach((function(e){var n=e.id,t=e.name;l[n]=t})),d.getCategories()})).then((function(e){u(e),f(e.length)})).catch((function(e){console.log(e)})),t.addEventListener("click",(function(){i.classList.toggle("active")})),r.addEventListener("click",(function(e){var n=e.target.dataset.genre;if("All"===n)d.getCategories().then((function(e){u(e),f(e.length)}));else{Object.keys(l).find((function(e){return l[e]===n}));d.getCategoriesQuery(n).then((function(e){u(e),f(e.length)}))}i.classList.remove("active")}))}))}();
//# sourceMappingURL=my-library.f4fd0dbb.js.map
