{"mappings":"C,A,W,I,E,A,C,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,C,E,kB,E,S,Q,S,C,C,C,E,I,E,E,S,E,E,SCGC,AAAA,CAAA,UAEC,GADA,AAAA,CAAA,EAAA,EAAA,YAAA,IACI,AAA6B,MAA7B,OAAO,SAAS,UAAoB,AAA6B,gBAA7B,OAAO,SAAS,SAA4B,OACpF,IAAM,EAAQ,MAAM,AAAA,CAAA,EAAA,EAAA,QAAA,EAAS,GAEvB,EAAW,EAAM,QAAQ,MAAM,EAAG,GAElC,EAAS,MAAM,AAAA,CAAA,EAAA,EAAA,SAAA,IACjB,EAAe,GAEnB,GAAI,OAAO,YAAc,IAAK,CAC5B,IAAM,EAAO,CAAQ,CAAC,EAAE,CACxB,EAAe,MAAM,EAAiB,EAAM,EAC9C,MACE,IAAK,IAAM,KAAQ,EACjB,GAAgB,MAAM,EAAiB,EAAM,GAGjD,AAAA,CAAA,EAAA,EAAA,WAAA,IACA,SAAS,cAAc,uBAAuB,UAAY,CAE5D,CAAA,IAEA,IAAM,EAAmB,MAAO,EAAM,KAEpC,IAAM,EAAW,AADD,kDACW,EAAK,cAC1B,EAAQ,EAAK,eACb,EAAc,EAAK,aAAa,MAAM,IAAI,CAAC,EAAE,CAC7C,EAAc,EAAK,aAEnB,EAAa,EAChB,OAAO,AAAC,GAAU,EAAK,UAAU,MAAM,EAAG,GAAG,SAAS,EAAM,KAC5D,IAAI,CAAC,CAAA,KAAE,CAAA,CAAM,GAAK,GAClB,KAAK,MAER,MAAO,CAAC,kDAAkD,EAAE,EAAK,GAAG;sCAChC,EAAE,EAAS;;;mCAGd,EAAE,EAAM;;yCAEF,EAAE,EAAW,kCAAkC,EAAE,EAAY;;wDAE9C,EAAE,EAAc,EAAE;;;;;WAK/D,CAAC,AACZ,EAGM,EAAa,SAAS,cAAc,oBACtC,GACF,EAAW,iBAAiB,QAAS,KACnC,OAAO,SAAS,KAAO,6DACzB,E,E","sources":["<anon>","src/javascript/trends.js"],"sourcesContent":["(function () {\nvar $parcel$global =\ntypeof globalThis !== 'undefined'\n  ? globalThis\n  : typeof self !== 'undefined'\n  ? self\n  : typeof window !== 'undefined'\n  ? window\n  : typeof global !== 'undefined'\n  ? global\n  : {};\nvar parcelRequire = $parcel$global[\"parcelRequired7c6\"];\nparcelRequire.register(\"jB4uu\", function(module, exports) {\n\nvar $8LhE9 = parcelRequire(\"8LhE9\");\n\nvar $dBKQr = parcelRequire(\"dBKQr\");\n(async ()=>{\n    (0, $dBKQr.spinnerStart)();\n    if (window.location.pathname !== \"/\" && window.location.pathname !== \"/index.html\") return;\n    const films = await (0, $8LhE9.getFilms)(1);\n    const topThree = films.results.slice(0, 3);\n    const genres = await (0, $8LhE9.getGenres)();\n    let resultMarkup = \"\";\n    if (window.innerWidth <= 768) {\n        const film = topThree[0];\n        resultMarkup = await $e444f4c5cdaffc6a$var$createItemMarkup(film, genres);\n    } else for (const film of topThree)resultMarkup += await $e444f4c5cdaffc6a$var$createItemMarkup(film, genres);\n    (0, $dBKQr.spinnerStop)();\n    document.querySelector(\".weekly_trends_list\").innerHTML = resultMarkup;\n})();\nconst $e444f4c5cdaffc6a$var$createItemMarkup = async (film, genres)=>{\n    const baseUrl = \"https://image.tmdb.org/t/p/w600_and_h900_bestv2\";\n    const imageSrc = baseUrl + film.backdrop_path;\n    const title = film.original_title;\n    const releaseYear = film.release_date.split(\"-\")[0];\n    const voteAverage = film.vote_average;\n    const filmGenres = genres.filter((genre)=>film.genre_ids.slice(0, 2).includes(genre.id)).map(({ name: name  })=>name).join(\", \");\n    return `<li class='weekly_trends_list_item' data-film-id='${film.id}'>\n        <img class='movie-image' src='${imageSrc}' alt=''>\n        <div class='weekly-trends_description'>\n          <div class='flex-wrap'>\n            <h4 class='film_title'>${title}</h4>\n            <div class='flex-wrap-rating'>\n            <h5 class='film_description'>${filmGenres}<span class='separator'> | </span>${releaseYear}</h5>\n            <div class='film_rating-wrapper'>\n              <div class=\"film_rating\" style=\"--rating: ${voteAverage / 2};\" aria-label=\"Rating of this product is 2.3 out of 5.\"></div>\n            </div></div>\n\n          </div>\n        </div>\n      </li>`;\n};\nconst $e444f4c5cdaffc6a$var$seeAllLink = document.querySelector(\".link_to_catalog\");\nif ($e444f4c5cdaffc6a$var$seeAllLink) $e444f4c5cdaffc6a$var$seeAllLink.addEventListener(\"click\", ()=>{\n    window.location.href = \"https://www.themoviedb.org/movie/603692-john-wick-chapter-4\";\n});\n\n});\n\n})();\n//# sourceMappingURL=trends.943df837.js.map\n","import { getFilms, getGenres } from './api';\nimport { spinnerStart, spinnerStop } from './spin';\n\n(async () => {\n  spinnerStart()\n  if (window.location.pathname !== '/' && window.location.pathname !== '/index.html') return;\n  const films = await getFilms(1);\n\n  const topThree = films.results.slice(0, 3);\n\n  const genres = await getGenres();\n  let resultMarkup = '';\n\n  if (window.innerWidth <= 768) {\n    const film = topThree[0];\n    resultMarkup = await createItemMarkup(film, genres);\n  } else {\n    for (const film of topThree) {\n      resultMarkup += await createItemMarkup(film, genres);\n    }\n  }\n  spinnerStop()\n  document.querySelector('.weekly_trends_list').innerHTML = resultMarkup;\n\n})();\n\nconst createItemMarkup = async (film, genres) => {\n  const baseUrl = 'https://image.tmdb.org/t/p/w600_and_h900_bestv2';\n  const imageSrc = baseUrl + film.backdrop_path;\n  const title = film.original_title;\n  const releaseYear = film.release_date.split('-')[0];\n  const voteAverage = film.vote_average;\n\n  const filmGenres = genres\n    .filter((genre) => film.genre_ids.slice(0, 2).includes(genre.id))\n    .map(({ name }) => name)\n    .join(', ');\n\n  return `<li class='weekly_trends_list_item' data-film-id='${film.id}'>\n        <img class='movie-image' src='${imageSrc}' alt=''>\n        <div class='weekly-trends_description'>\n          <div class='flex-wrap'>\n            <h4 class='film_title'>${title}</h4>\n            <div class='flex-wrap-rating'>\n            <h5 class='film_description'>${filmGenres}<span class='separator'> | </span>${releaseYear}</h5>\n            <div class='film_rating-wrapper'>\n              <div class=\"film_rating\" style=\"--rating: ${voteAverage / 2};\" aria-label=\"Rating of this product is 2.3 out of 5.\"></div>\n            </div></div>\n\n          </div>\n        </div>\n      </li>`;\n};\n\n\nconst seeAllLink = document.querySelector('.link_to_catalog');\nif (seeAllLink) {\n  seeAllLink.addEventListener('click', () => {\n    window.location.href = 'https://www.themoviedb.org/movie/603692-john-wick-chapter-4';\n  });\n}"],"names":["parcelRequire","$parcel$global","globalThis","self","window","global","register","module","exports","$8LhE9","$dBKQr","spinnerStart","location","pathname","films","getFilms","topThree","results","slice","genres","getGenres","resultMarkup","innerWidth","film","$e444f4c5cdaffc6a$var$createItemMarkup","spinnerStop","document","querySelector","innerHTML","imageSrc","baseUrl","backdrop_path","title","original_title","releaseYear","release_date","split","voteAverage","vote_average","filmGenres","filter","genre","genre_ids","includes","id","map","name","join","$e444f4c5cdaffc6a$var$seeAllLink","addEventListener","href"],"version":3,"file":"trends.943df837.js.map"}