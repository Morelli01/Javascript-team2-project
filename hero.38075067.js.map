{"mappings":"2MAAA,IAAAA,EAAAC,EAAA,SAGA,MAAMC,EAAcC,SAASC,cAAc,SACrCC,EAAYF,SAASC,cAAc,eACnCE,EAAWH,SAASC,cAAc,cAClCG,EAAiBJ,SAASC,cAAc,wBACxCI,EAAcL,SAASC,cAAc,yBAErCK,GADcN,SAASC,cAAc,YACtBD,SAASC,cAAc,mBACtCM,EAAaP,SAASC,cAAc,sBACrBD,SAASC,cAAc,kBAG5C,IAAIO,EAAcR,SAASS,gBAAgBC,YAU3C,SAASC,EAAgBC,EAAKC,GAC5B,OAAOC,KAAKC,MAAMD,KAAKE,UAAYH,EAAMD,EAAM,IAAMA,C,CAKvD,SAASK,EAAmBC,GAC1BA,EAAEC,iBACFb,EAAac,UAAUC,OAAO,YAC9BjB,EAAegB,UAAUE,IAAI,mBAC7BtB,SAASuB,KAAKH,UAAUE,IAAI,W,CAG9B,SAASE,EAAoBN,GAC3BZ,EAAac,UAAUE,IAAI,YAC3BlB,EAAegB,UAAUC,OAAO,mBAChCrB,SAASuB,KAAKH,UAAUC,OAAO,W,CAvB7Bb,EAAc,MAChBL,EAASsB,YAActB,EAASsB,YAAYC,MAAM,EAAG,MAEnDlB,GAAe,MACjBL,EAASsB,YAActB,EAASsB,YAAYC,MAAM,IAsCpDC,iBACE,MAWMC,QAAiB/B,EAAAgC,QAAMC,QAXb,CACdC,OAAQ,MACRC,IAAK,gDACLC,OAAQ,CAAEC,SAAU,SACpBC,QAAS,CACPC,OAAQ,mBACRC,cACE,gOAMN,OADAC,QAAQC,IAAIX,EAASY,MACdZ,EAASY,I,CAGlBC,GACGC,MAAKC,IACJ,MAAMC,MACJA,EAAQ,GAAEC,KACVA,EAAO,GAAEC,SACTA,EAAW,GAAEC,cACbA,EAAgB,GAAEC,GAClBA,GACEL,EAAKM,QAAQtC,EAAgB,EAAG,MAxCxCgB,eAAuBqB,GACrB,MAAME,EAAU,CACdnB,OAAQ,MACRC,IAAK,sCAAsCgB,WAC3Cf,OAAQ,CAAEC,SAAU,SACpBC,QAAS,CACPC,OAAQ,mBACRC,cACE,+NAIN,aADuBxC,EAAAgC,QAAMC,QAAQoB,IACrBV,KAAKS,O,EA8BnBE,CAAQH,GACLN,MAAKF,KAwDZ,SAAiCQ,GAChB,IAAII,GAAGC,OAAO,gBAAiB,CAC5CC,OAAQ,MACRC,MAAO,MACPC,QAAS,GAAGR,K,CA3DRS,CAAwBjB,EAAK7B,EAAgB,EAAG6B,EAAKkB,SAASC,KAC9DpD,EAAWa,UAAUE,IAAI,oBACzBgB,QAAQC,IAAIC,GACZF,QAAQC,IAAI,iCAAiCC,EAAK,GAAGmB,MAAM,IAE5DC,OAAM1C,IACLX,EAAWa,UAAUC,OAAO,oBAC5BiB,QAAQC,IAAIrB,EAAE,IAGlBnB,EAAY8D,MAAQ,kIACuGd,2EAK3H7C,EAAU4D,UAAY,GAAGlB,GAASC,IAClC1C,EAAS2D,UAAY,GAAGhB,EAASpB,MAAM,EAAG,SAEtClB,GAAe,KAAOA,EAAc,OACtCN,EAAU2D,MAAME,WAAa,OAC7B5D,EAAS2D,UAAY,GAAGhB,EAASpB,MAAM,EAAG,WAExClB,GAAe,OACjBN,EAAU2D,MAAME,WAAa,QAC7B5D,EAAS2D,UAAY,GAAGhB,EAASpB,MAAM,EAAG,WAG5CtB,EAAeqB,YAAc,gBAC7BpB,EAAYe,UAAUC,OAAO,YAGM,kBAA/BjB,EAAeqB,aACjBrB,EAAe4D,iBAAiB,QAAS/C,GAG3CV,EAAWyD,iBAAiB,QAASxC,EAAoB,IAE1DoC,OAAM1C,IACLd,EAAeqB,YAAc,cAC7BpB,EAAYe,UAAUE,IAAI,YAC1BgB,QAAQC,IAAIrB,EAAE,G","sources":["src/javascript/hero.js"],"sourcesContent":["import axios from 'axios';\n\n// DOM ELEMENTS================================================\nconst heroSection = document.querySelector('.hero');\nconst heroTitle = document.querySelector('.hero-title');\nconst heroText = document.querySelector('.hero-text');\nconst heroTrailerBTN = document.querySelector('.hero-getstarted-btn');\nconst heroMoreBTN = document.querySelector('.hero-moredetails-btn');\nconst heroRaiting = document.querySelector('.reiting');\nconst trailerModal = document.querySelector('.trailer-modal');\nconst closeModal = document.querySelector('.trailer-svg-close');\nconst trailerVideo = document.querySelector('.trailer-video');\n\n// =============================================================\nlet screenWidth = document.documentElement.clientWidth;\n\n// SLICE HERO TEXT =======================================\nif (screenWidth < 768) {\n  heroText.textContent = heroText.textContent.slice(0, 120);\n}\nif (screenWidth >= 768) {\n  heroText.textContent = heroText.textContent.slice(0);\n}\n\nfunction getRandomNumber(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\n// EVENT FUNCTION=====================================\n\nfunction onOpenModalTrailer(e) {\n  e.preventDefault();\n  trailerModal.classList.remove('ishidden');\n  heroTrailerBTN.classList.add('blocked-element');\n  document.body.classList.add('noScroll');\n}\n\nfunction onCloseModalTrailer(e) {\n  trailerModal.classList.add('ishidden');\n  heroTrailerBTN.classList.remove('blocked-element');\n  document.body.classList.remove('noScroll');\n}\n\n//TRAILER_VIDEO ===========================================================\nasync function trailer(id) {\n  const options = {\n    method: 'GET',\n    url: `https://api.themoviedb.org/3/movie/${id}/videos`,\n    params: { language: 'en-US' },\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwZmE1ZDU3ODY5YzBmYzQ2YWI2YjI3MDJhZDllNjZmZSIsInN1YiI6IjY0NzhjNTUwMGUyOWEyMDExNmFiOGIwNCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.6ciIvtOhfPeTztNv-gkHSd2chqAc4xOBK5Ti6nPXDtE',\n    },\n  };\n  const response = await axios.request(options);\n  return response.data.results;\n}\n\nasync function trendingFilms_DAY() {\n  const options = {\n    method: 'GET',\n    url: 'https://api.themoviedb.org/3/trending/all/day',\n    params: { language: 'en-US' },\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwZmE1ZDU3ODY5YzBmYzQ2YWI2YjI3MDJhZDllNjZmZSIsInN1YiI6IjY0NzhjNTUwMGUyOWEyMDExNmFiOGIwNCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.6ciIvtOhfPeTztNv-gkHSd2chqAc4xOBK5Ti6nPXDtE',\n    },\n  };\n\n  const response = await axios.request(options);\n  console.log(response.data);\n  return response.data;\n}\n\ntrendingFilms_DAY()\n  .then(data => {\n    const {\n      title = '',\n      name = '',\n      overview = '',\n      backdrop_path = '',\n      id,\n    } = data.results[getRandomNumber(0, 20)];\n\n    trailer(id)\n      .then(data => {\n        onYouTubeIframeAPIReady(data[getRandomNumber(0, data.length)].key);\n        closeModal.classList.add('inother-position');\n        console.log(data);\n        console.log(`https://www.youtube.com/embed/${data[0].key}`);\n      })\n      .catch(e => {\n        closeModal.classList.remove('inother-position');\n        console.log(e);\n      });\n\n    heroSection.style = `\n   background: linear-gradient(86.47deg, #111111 33.63%, rgba(17, 17, 17, 0) 76.86%),url('https://image.tmdb.org/t/p/original${backdrop_path}');\n   background-repeat: no-repeat;\n   background-size: cover;\n    `;\n\n    heroTitle.innerHTML = `${title || name}`;\n    heroText.innerHTML = `${overview.slice(0, 90)}...`;\n\n    if (screenWidth >= 768 && screenWidth < 1280) {\n      heroTitle.style.paddingTop = '96px';\n      heroText.innerHTML = `${overview.slice(0, 200)}...`;\n    }\n    if (screenWidth >= 1280) {\n      heroTitle.style.paddingTop = '178px';\n      heroText.innerHTML = `${overview.slice(0, 250)}...`;\n    }\n\n    heroTrailerBTN.textContent = 'Watch trailer';\n    heroMoreBTN.classList.remove('ishidden');\n    // heroRaiting.classList.remove('ishidden');\n\n    if (heroTrailerBTN.textContent === 'Watch trailer') {\n      heroTrailerBTN.addEventListener('click', onOpenModalTrailer);\n    }\n\n    closeModal.addEventListener('click', onCloseModalTrailer);\n  })\n  .catch(e => {\n    heroTrailerBTN.textContent = 'Get Started';\n    heroMoreBTN.classList.add('ishidden');\n    console.log(e);\n  });\n// API=====================================\n// \"w92\": ширина 92 пикселя\n// \"w154\": ширина 154 пикселя\n// \"w185\": ширина 185 пикселей\n// \"w342\": ширина 342 пикселя\n// \"w500\": ширина 500 пикселей\n// \"w780\": ширина 780 пикселей\n// \"original\": оригинальный размер изображения\n// `https://www.youtube.com/embed/${trailer.key}`;\n\n// YUOTUBE_PLAYER====================================\n\nfunction onYouTubeIframeAPIReady(id) {\n  const player = new YT.Player('trailer-video', {\n    height: '240',\n    width: '320',\n    videoId: `${id}`,\n  });\n}\n"],"names":["$2shzp","parcelRequire","$4ac8f69bad660a77$var$heroSection","document","querySelector","$4ac8f69bad660a77$var$heroTitle","$4ac8f69bad660a77$var$heroText","$4ac8f69bad660a77$var$heroTrailerBTN","$4ac8f69bad660a77$var$heroMoreBTN","$4ac8f69bad660a77$var$trailerModal","$4ac8f69bad660a77$var$closeModal","$4ac8f69bad660a77$var$screenWidth","documentElement","clientWidth","$4ac8f69bad660a77$var$getRandomNumber","min","max","Math","floor","random","$4ac8f69bad660a77$var$onOpenModalTrailer","e","preventDefault","classList","remove","add","body","$4ac8f69bad660a77$var$onCloseModalTrailer","textContent","slice","async","response","default","request","method","url","params","language","headers","accept","Authorization","console","log","data","$4ac8f69bad660a77$var$trendingFilms_DAY","then","data1","title","name","overview","backdrop_path","id","results","options","$4ac8f69bad660a77$var$trailer","YT","Player","height","width","videoId","$4ac8f69bad660a77$var$onYouTubeIframeAPIReady","length","key","catch","style","innerHTML","paddingTop","addEventListener"],"version":3,"file":"hero.38075067.js.map"}