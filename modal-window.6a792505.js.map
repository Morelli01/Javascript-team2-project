{"mappings":"kTAAA,IAAAA,EAAAC,EAAA,S,aAIAC,SAASC,iBAAiB,SAAS,SAAUC,IACrCA,EAAEC,OAAOC,UAAUC,SAAS,cAAgBH,EAAEC,OAAOG,QAAQ,gBAKrE,WAEI,IAAMC,EAAQP,SAASQ,eAAe,SACtCC,QAAQC,IAAI,EAAGV,SAASW,iBAAiB,OACzCJ,EAAMK,MAAMC,QAAU,OAEtB,IAAMC,EAAad,SAASe,cAAc,sBACpCC,EAAehB,SAASe,cAAc,8BACtCE,EAAgBjB,SAASe,cAAc,eACvCG,EAAclB,SAASe,cAAc,iBAErCI,EAAY,SAACC,GACf,IAAMC,EAAS,mCAETC,EAAM,GAAoBC,OADhB,+BACO,WAA4BA,OAAnBH,EAAQ,aAAkBG,OAAPF,GAEnDvB,EAAA0B,QAAMC,IAAIH,GACLI,MAAK,SAAAC,GACF,IAAMC,EAAOD,EAASC,KAChBC,EAAQD,EAAKC,MACbC,EAAYF,EAAKG,WACjBC,EAAcJ,EAAKK,aACnBC,EAAaN,EAAKM,WAClBC,EAAQP,EAAKQ,OAAO,GAAGC,KACvBC,EAAWV,EAAKU,SAEhBC,EAAY,kCADCX,EAAKY,YAGxB1B,EAAW2B,YAAcZ,EACzBb,EAAa0B,UAAY,uKAKsBnB,QAF4C,EAAAoB,EAAAC,OAAMZ,EAAa,IAAI,0HAM9GT,OAJ2CO,EAAU,qGAQrDP,QAJA,EAAAoB,EAAAC,OAAMV,EAAY,IAAI,gGAIhBX,OAANY,EAAM,wCAGVlB,EAAcwB,YAAcH,EAC5BpB,EAAY2B,aAAa,MAAON,GAEhChC,EAAMK,MAAMC,QAAU,M,IAEzBiC,OAAM,SAAAC,GACHtC,QAAQsC,MAAM,mCAAoCA,E,KAIxDC,EAAa,WACfzC,EAAMK,MAAMC,QAAU,M,EAGNN,EAAMQ,cAAc,oBAC5Bd,iBAAiB,QAAS+C,GAEtCC,OAAOhD,iBAAiB,SAAS,SAAAiD,GACzBA,EAAM/C,SAAWI,GACjByC,G,IAIR,IAAMG,EAAcnD,SAASW,iBAAiB,kBAC9CF,QAAQC,IAAI,EAAGyC,GACfA,EAAYC,SAAQ,SAAAC,GAChBA,EAAMpD,iBAAiB,SAAS,WAC5B,IAAMmB,EAAUiC,EAAMC,QAAQC,OAC9B9C,QAAQC,IAAI2C,EAAMC,SAClBnC,EAAUC,E,OAKlBpB,SAASC,iBAAiB,WAAW,SAAUC,GAC7B,WAAVA,EAAEsD,KACFR,G,IArFJS,GACJhD,QAAQC,IAAI,EAAGR,EAAEC,O,yCCPrB,SAASuD,EAAMC,EAAQC,GACrB,OAAOC,KAAKjB,MAAMe,EAASC,GAAUA,C,qJAGvC,IAAME,EAAkB,SAACC,EAAKC,GAC5B,OAAOH,KAAKI,MAAMJ,KAAKK,UAAYF,EAAMD,EAAM,IAAMA,C,EAGvD,SAASI,EAAYC,EAASC,GAC5B,OAAQD,EAAQ1B,UAAY,kDAGenB,OADvC8C,EAAS,EACV,0CAED9C,OAFyCsC,KAAKjB,MAC9CyB,EAAS,GACT,uB","sources":["src/javascript/modal-window.js","src/javascript/utils.js"],"sourcesContent":["import axios from 'axios';\nimport { round } from './utils';\n// if (document.readyState !== \"loading\") { console.log('11') } else { console.log('21') }\n\ndocument.addEventListener(\"click\", function (e) {\n    if (e.target.classList.contains(\"list_item\") || e.target.closest(\".list_item\"))\n        initModal();\n    console.log(3, e.target);\n});\n\nfunction initModal() {\n\n    const modal = document.getElementById('modal');\n    console.log(2, document.querySelectorAll('li'))\n    modal.style.display = 'none';\n\n    const movieTitle = document.querySelector('.modal-title-movie');\n    const movieDetails = document.querySelector('.movie-details table tbody');\n    const movieOverview = document.querySelector('.about-text');\n    const moviePoster = document.querySelector('.modal-poster');\n\n    const openModal = (movieId) => {\n        const apiKey = '97fe01addf81f73693338979426ece1e';\n        const baseUrl = 'https://api.themoviedb.org/3';\n        const url = `${baseUrl}/movie/${movieId}?api_key=${apiKey}`;\n\n        axios.get(url)\n            .then(response => {\n                const data = response.data;\n                const title = data.title;\n                const voteCount = data.vote_count;\n                const voteAverage = data.vote_average;\n                const popularity = data.popularity;\n                const genre = data.genres[0].name;\n                const overview = data.overview;\n                const posterPath = data.poster_path;\n                const posterUrl = 'https://image.tmdb.org/t/p/w500' + posterPath;\n\n                movieTitle.textContent = title;\n                movieDetails.innerHTML = `\n            <tr>\n              <td>Vote / Votes</td>\n              <td class='value-number' style = \"color: black;display: inline-block;align-items: center;\">${round(voteAverage, 10)}</td>\n              <td class='value-separator'>/</td>\n              <td class='value-number' style ='color: black'>${voteCount}</td>\n            </tr>\n            <tr>\n              <td>Popularity</td>\n              <td>${round(popularity, 10)}</td>\n            </tr>\n            <tr>\n              <td>Genre</td>\n              <td>${genre}</td>\n            </tr>\n          `;\n                movieOverview.textContent = overview;\n                moviePoster.setAttribute('src', posterUrl);\n\n                modal.style.display = 'flex';\n            })\n            .catch(error => {\n                console.error('Error getting movie information:', error);\n            });\n    };\n\n    const closeModal = () => {\n        modal.style.display = 'none';\n    };\n\n    const closeButton = modal.querySelector('.modal-close-btn');\n    closeButton.addEventListener('click', closeModal);\n\n    window.addEventListener('click', event => {\n        if (event.target === modal) {\n            closeModal();\n        }\n    });\n\n    const movieImages = document.querySelectorAll('[data-film-id]');\n    console.log(1, movieImages)\n    movieImages.forEach(image => {\n        image.addEventListener('click', () => {\n            const movieId = image.dataset.filmId;\n            console.log(image.dataset)\n            openModal(movieId);\n        });\n\n    });\n\n    document.addEventListener(\"keydown\", function (e) {\n        if (e.key === \"Escape\") {\n            closeModal();\n        }\n    });\n}\n","function round(number, digits) {\n  return Math.round(number * digits) / digits;\n}\n\nconst getRandomNumber = (min, max) => {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\n\nfunction renderStars(element, rating) {\n  return (element.innerHTML = `\n    <div class=\"film_rating\" style=\"--rating:${\n      rating / 2\n    };\" aria-label=\"Rating of this film is ${Math.round(\n    rating / 2\n  )} out of 5.\"></div>\n`);\n}\n\nexport { round, getRandomNumber, renderStars };\n"],"names":["$dIxxU","parcelRequire","document","addEventListener","e","target","classList","contains","closest","modal","getElementById","console","log","querySelectorAll","style","display","movieTitle","querySelector","movieDetails","movieOverview","moviePoster","openModal","movieId","apiKey","url","concat","default","get","then","response","data","title","voteCount","vote_count","voteAverage","vote_average","popularity","genre","genres","name","overview","posterUrl","poster_path","textContent","innerHTML","$3RRSf","round","setAttribute","catch","error","closeModal","window","event","movieImages","forEach","image","dataset","filmId","key","$739b8b6fcdcbfb13$var$initModal","$2d101c92898a7d81$export$2077e0241d6afd3c","number","digits","Math","$2d101c92898a7d81$export$eab19c48dcb6310d","min","max","floor","random","$2d101c92898a7d81$export$6b958f153b36132a","element","rating"],"version":3,"file":"modal-window.6a792505.js.map"}