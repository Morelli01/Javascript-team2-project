function i(i,r,e,t){Object.defineProperty(i,r,{get:e,set:t,enumerable:!0,configurable:!0})}var r=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequired7c6;r.register("ghKXP",(function(e,t){i(e.exports,"markupFilm",(function(){return g}));var a=r("dK6vY"),n=r("9Wu9X"),o=r("h3giK");const s=document.querySelector(".search_film_list"),l=document.querySelector(".library-section"),c=document.querySelector(".error-section"),d=new(0,o.MovieLibrary);d.loadLibraryFromLocalStorage();const m=d.library;function g(i){const r=i.map((({poster_path:i,original_name:r,original_title:e,genres:t,release_date:a,vote_average:o,first_air_date:s,id:l})=>{let c=i?`https://image.tmdb.org/t/p/original${i}`:"https://www.tgv.com.my/assets/images/404/movie-poster.jpg";const d=function(i,r){return void 0!==i?i.split("-")[0]:void 0!==r?r.split("-")[0]:""}(a,s);return`<li class="search_film_img_wrap movie-image list_item" data-film-id='${l}'>\n        <img loading="lazy" src="${c}" alt="${r||e}" width="395" height="574" class="search_film_img"/>\n        <div class="wrap">\n          <div class="search_film_wrap">\n            <p class="search_film_title">${r||e}</p>\n            <p class="search_film_genre">${function(i){let r=[];void 0!==i&&(r=i.map((i=>i.name)));r.length>2&&(r=r.slice(0,2));return 0===r.length?"Film":r.join(", ")}(t)} | ${d}</p> \n            <div class="stars">\n            <div class='film_rating-wrapper'>\n              <div class='film_rating' style='--rating: ${o/2};' aria-label='Rating of this film is ${(0,n.round)(o/2,10)} out of 5.'></div>\n            </div>\n         </div>\n          </div>\n        </div>\n      </li>`})).join("");s.innerHTML=r}(0,a.getGenres)().then((i=>{i.forEach((({id:i,name:r})=>{categories[i]=r}))})).catch(Error),window.location.href.includes("my-library.html")&&(m.length>0?(l.classList.remove("display-hidden"),g(m)):c.classList.remove("display-hidden"))})),r.register("9Wu9X",(function(r,e){function t(i,r){return Math.round(i*r)/r}i(r.exports,"round",(function(){return t})),i(r.exports,"getRandomNumber",(function(){return a})),i(r.exports,"renderStars",(function(){return n}));const a=(i,r)=>Math.floor(Math.random()*(r-i+1))+i;function n(i,r){return i.innerHTML=`\n    <div class="film_rating" style="--rating:${r/2};" aria-label="Rating of this film is ${Math.round(r/2)} out of 5."></div>\n`}})),r.register("h3giK",(function(r,e){i(r.exports,"MovieLibrary",(function(){return t}));class t{constructor(){this.library=[],this.loadLibraryFromLocalStorage()}loadLibraryFromLocalStorage(){const i=localStorage.getItem("favorite");this.library=i?JSON.parse(i):[]}saveLibraryToLocalStorage(){localStorage.setItem("favorite",JSON.stringify(this.library))}isFilmInLibrary(i){return this.library.some((r=>r.id==i))}addFilmToLibrary(i){this.library.push(i),this.saveLibraryToLocalStorage()}removeFilmFromLibrary(i){const r=this.library.findIndex((r=>r.id===i.id));-1!==r&&(this.library.splice(r,1),this.saveLibraryToLocalStorage())}}}));
//# sourceMappingURL=favorite.b8c6ba48.js.map
