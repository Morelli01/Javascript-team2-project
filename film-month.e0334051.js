function n(n,i,t,a){Object.defineProperty(n,i,{get:t,set:a,enumerable:!0,configurable:!0})}var i=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequired7c6;i.register("6Tu2y",(function(n,t){var a=i("dK6vY"),e=i("dpMC2"),o=i("9Wu9X"),r=i("h3giK");let l=null;(async()=>{const n=document.querySelector(".film-month_wrapper");if(!n)return;(0,e.spinnerStart)();const i=await(0,a.getRandomFilmOfMonth)();l=i,findFilm=await(0,a.getCategoriesId)(i.id);const t=await(0,a.getGenres)();n&&(n.innerHTML=s(i,t));document.querySelector(".film-month_button-add").addEventListener("click",(async n=>{const i=new(0,r.MovieLibrary),t=i.isFilmInLibrary(n.target.dataset.id),a=document.querySelector(".film-month_button-add");t?(console.log("removing"),i.removeFilmFromLibrary(findFilm)):(console.log("adding"),i.addFilmToLibrary(findFilm)),a.textContent=t?"Add film to library":"Remove film from library"})),(0,e.spinnerStop)()})();const s=(n,i)=>{const t=(window.innerWidth<=600?"https://image.tmdb.org/t/p/w600_and_h900_bestv2":"https://image.tmdb.org/t/p/w1066_and_h600_bestv2")+n.poster_path,a=n.overview,e=n.original_title,l=new Date(n.release_date),s=`${l.getDate().toString().padStart(2,"0")}.${(l.getMonth()+1).toString().padStart(2,"0")}.${l.getFullYear()}`,m=(new(0,r.MovieLibrary)).isFilmInLibrary(n.id),d=n.vote_average,f=n.vote_count,c=n.popularity,u=i.filter((i=>n.genre_ids.slice(0,2).includes(i.id))).map((({name:n})=>n)).join(", ");return`\n      <div class='film-month_image'>\n        <img class='film-month_img' src='${t}' alt=''>\n      </div>\n      <div class='film-month_content'>\n        <div>\n          <h3 class='film-month_info-title'>${e}</h3>\n        </div>\n        <div class='film-month_info'>\n          <div class='film-month_info-item'>\n            <span class='film-month_info-label'>Release date</span>\n            <span class='film-month_info-value film-month_info-year'>${s}</span>\n          </div>\n          <div class='film-month_info-item'>\n            <span class='film-month_info-label'>Vote/Votes</span>\n            <span class='film-month_info-value'>\n              <span class='value-number'>${d}</span>\n               <span class='value-separator'>/</span>\n              <span class='value-number'>${f}</span>\n            </span>\n          </div>\n          <div class='film-month_info-item'>\n            <span class='film-month_info-label'>Popularity</span>\n            <span class='film-month_info-value span-value'>${(0,o.round)(c,10)}</span>\n          </div>\n          <div class='film-month_info-item'>\n            <span class='film-month_info-label'>Genre</span>\n            <span class='film-month_info-value span-value'>${u}</span>\n          </div>\n        </div>\n        <div class='film-month_about'>\n          <h4 class='film-month_about-title'>About</h4>\n          <p class='film-month_about-description'>${a}</p>\n        </div>\n        <div class='film-month_button'>\n          <button class='button film-month_button-add' data-id='${n.id}'>\n          ${m?"Remove from library":"Add to my library"}\n          </button>\n        </div>\n      </div>\n  `}})),i.register("9Wu9X",(function(i,t){function a(n,i){return Math.round(n*i)/i}n(i.exports,"round",(function(){return a})),n(i.exports,"getRandomNumber",(function(){return e})),n(i.exports,"renderStars",(function(){return o}));const e=(n,i)=>Math.floor(Math.random()*(i-n+1))+n;function o(n,i){return n.innerHTML=`\n    <div class="film_rating" style="--rating:${i/2};" aria-label="Rating of this film is ${Math.round(i/2)} out of 5."></div>\n`}})),i.register("h3giK",(function(i,t){n(i.exports,"MovieLibrary",(function(){return a}));class a{constructor(){this.library=[],this.loadLibraryFromLocalStorage()}loadLibraryFromLocalStorage(){const n=localStorage.getItem("favorite");this.library=n?JSON.parse(n):[]}saveLibraryToLocalStorage(){localStorage.setItem("favorite",JSON.stringify(this.library))}isFilmInLibrary(n){return this.library.some((i=>i.id==n))}addFilmToLibrary(n){this.library.push(n),this.saveLibraryToLocalStorage()}removeFilmFromLibrary(n){const i=this.library.findIndex((i=>i.id===n.id));-1!==i&&(this.library.splice(i,1),this.saveLibraryToLocalStorage())}}}));
//# sourceMappingURL=film-month.e0334051.js.map
