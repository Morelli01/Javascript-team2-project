var e=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequired7c6;e.register("lklxg",(function(t,s){var i=e("dK6vY"),n=e("3u1GM");const a={ulEl:document.querySelector(".search_film_list"),inputEl:document.querySelector(".search_film_input"),divPagination:document.getElementById("pagination"),form:document.getElementById("form"),btnReset:document.querySelector(".btn_reset"),toTop:document.querySelector(".to_top"),falseResultMessage:document.querySelector(".cards__message")};let l={},o=1,r="";function d(e){const t=e.map((({id:e,poster_path:t,original_name:s,original_title:i,genre_ids:n,release_date:a,vote_average:o,first_air_date:r})=>{let d=t?`https://image.tmdb.org/t/p/original${t}`:"https://www.tgv.com.my/assets/images/404/movie-poster.jpg";const c=function(e,t){return void 0!==e?e.split("-")[0]:void 0!==t?t.split("-")[0]:""}(a,r);return`<li class="search_film_img_wrap" data-film-id="${e}">\n  <img src="${d}" alt="${s||i}"\n    width="395" height="574" class="search_film_img"/>\n  <div class="wrap">\n    <div class="search_film_wrap">\n      <p class="search_film_title">${s||i}</p>\n      <p class="search_film_genre">${function(e){let t=[];void 0!==e&&(t=e.filter((e=>void 0!==e)).map((e=>l[e]?l[e]:"Film")));t.length>2&&(t=t.slice(0,2));return 0===t.length?"Film":t.join(", ")}(n)} | ${c}</p>\n      <p class="stars is-hidden">${o}</p>\n    </div>\n  \n  </div>\n  </li>`})).join("");a.ulEl.innerHTML=t}(0,i.getGenres)().then((e=>(e.forEach((({id:e,name:t})=>{l[e]=t})),(0,i.getFilms)(o)))).then((e=>{d(e.results),function(e){if(e.total_results>20){a.divPagination.classList.remove("display-hidden");(0,n.createPagination)(e.total_results,e.total_pages).on("afterMove",(e=>{o=e.page,(0,i.getFilms)(o).then((e=>{d(e.results),window.scrollTo({top:450,behavior:"smooth"})})).catch((e=>{console.error("Error:",e)}))}))}}(e)})).catch((function(e){console.log(e)})),a.form.addEventListener("submit",(async function(e){e.preventDefault(),o=1,r=e.currentTarget.elements.film_name.value.trim(),a.divPagination.classList.add("display-hidden"),a.falseResultMessage.classList.add("display-hidden"),r.length>=1&&a.btnReset.classList.remove("is-hidden");const t=await(0,i.getCategoriesQuery)(r,o);a.ulEl.innerHTML="",d(t.results),function(e){if(e.total_results>20){a.divPagination.classList.remove("display-hidden");(0,n.createPagination)(e.total_results,e.total_pages).on("afterMove",(e=>{o=e.page,(0,i.getCategoriesQuery)(r,o).then((e=>{d(e.results),window.scrollTo({top:450,behavior:"smooth"})})).catch((e=>{console.error("Error:",e)}))}))}}(t),function(e){0===e.total_results&&a.falseResultMessage.classList.remove("display-hidden")}(t)})),a.btnReset.addEventListener("click",(()=>{a.btnReset.classList.add("is-hidden"),a.form.reset()}))}));
//# sourceMappingURL=film-catalog.43ed2e5d.js.map
