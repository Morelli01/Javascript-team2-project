{"mappings":"wQAAA,IAAAA,EAAAC,EAAA,S,qCAGCC,EAAAF,EAAA,CAAAE,EAAAC,GAAAC,MAAA,SAAAC,I,IAGOC,EAGAC,EAGAC,EAEEC,E,qEATyB,MAA7BC,OAAOC,SAASC,UAAiD,gBAA7BF,OAAOC,SAASC,SAA0B,C,iEAC/D,EAAAC,EAAAC,wB,cAAbR,EAAIS,EAAAC,KACVC,QAAQC,IAAI,YAAaZ,G,UAEJ,EAAAO,EAAAM,a,OAAfZ,EAAMQ,EAAAC,MAGNR,EAAmBY,SAASC,cAAc,0BAExCZ,EAAea,EAAahB,EAAMC,GACxCC,EAAiBe,UAAYd,G,2CAZhC,GAgBD,IAAMa,EAAe,SAAChB,EAAMC,GAC1B,IACMiB,GADUd,OAAOe,YAAc,IAAM,kDAAoD,oDACpEnB,EAAKoB,YAC1BC,EAAWrB,EAAKqB,SAChBC,EAAQtB,EAAKuB,eAGbC,EAAc,IAAIC,KAAKzB,EAAK0B,cAC5BC,EAAMH,EAAYI,UAAUC,WAAWC,SAAS,EAAG,KACnDC,GAASP,EAAYQ,WAAa,GAAGH,WAAWC,SAAS,EAAG,KAC5DG,EAAOT,EAAYU,cAEnBC,EAAuB,GAAUC,OAAPT,EAAI,KAAYS,OAATL,EAAM,KAAQK,OAALH,GAE1CI,EAAcrC,EAAKsC,aACnBC,EAAYvC,EAAKwC,WACjBC,EAAazC,EAAKyC,WAClBC,EAAazC,EAChB0C,QAAO,SAACC,G,OAAU5C,EAAK6C,UAAUC,MAAM,EAAG,GAAGC,SAASH,EAAMI,G,IAC5DC,KAAI,SAAAC,G,OAAOA,EAAJC,I,IACPC,KAAK,MAER,MAAO,4FAMmChB,OAJSlB,EAAS,wHASOkB,OALzBd,EAAM,gPAUTc,OAL4BD,EAAqB,iOAOjDC,OAFAC,EAAY,yGAOMD,OALlBG,EAAU,sNASQH,OAJAK,EAAW,8LASpBL,OALSM,EAAW,wLAKXN,OAATf,EAAS,oK","sources":["src/javascript/film-month.js"],"sourcesContent":["import { getGenres, getRandomFilmOfMonth } from './api';\nimport { spinnerStart, spinnerStop } from './spin';\n\n(async () => {\n  // spinnerStart()\n  if (window.location.pathname !== '/' && window.location.pathname !== '/index.html') return;\n  const film = await getRandomFilmOfMonth();\n  console.log('filmMonth', film);\n\n  const genres = await getGenres();\n  // spinnerStop()\n\n  const filmMonthWrapper = document.querySelector('.film-month_wrapper');\n  if (filmMonthWrapper) {\n    const resultMarkup = createMarkup(film, genres);\n    filmMonthWrapper.innerHTML = resultMarkup;\n  }\n})();\n\nconst createMarkup = (film, genres) => {\n  const baseUrl = window.innerWidth <= 600 ? 'https://image.tmdb.org/t/p/w600_and_h900_bestv2' : 'https://image.tmdb.org/t/p/w1066_and_h600_bestv2';\n  const imageSrc = baseUrl + film.poster_path;\n  const overview = film.overview;\n  const title = film.original_title;\n\n\n  const releaseDate = new Date(film.release_date);\n  const day = releaseDate.getDate().toString().padStart(2, '0');\n  const month = (releaseDate.getMonth() + 1).toString().padStart(2, '0');\n  const year = releaseDate.getFullYear();\n\n  const formattedReleaseDate = `${day} ${month} ${year}`;\n\n  const voteAverage = film.vote_average;\n  const voteCount = film.vote_count;\n  const popularity = film.popularity;\n  const filmGenres = genres\n    .filter((genre) => film.genre_ids.slice(0, 2).includes(genre.id))\n    .map(({ name }) => name)\n    .join(', ');\n\n  return `\n    <div class='film-month_image'>\n      <img class='film-month_img movie-image' src='${imageSrc}' alt=''>\n    </div>\n    <div class='film-month_content'>\n      <div>\n        <h3 class='film-month_info-title'>${title}</h3>\n      </div>\n      <div class='film-month_info'>\n        <div class='film-month_info-item'>\n          <span class='film-month_info-label'>Release date</span>\n          <span class='film-month_info-value film-month_info-year'>${formattedReleaseDate}</span>\n        </div>\n        <div class='film-month_info-item'>\n          <span class='film-month_info-label'>Vote/Votes</span>\n          <span class='film-month_info-value'>\n            <span class='value-number'>${voteAverage}</span>\n             <span class='value-separator'>/</span>\n            <span class='value-number'>${voteCount}</span>\n          </span>\n        </div>\n        <div class='film-month_info-item'>\n          <span class='film-month_info-label'>Popularity</span>\n          <span class='film-month_info-value span-value'>${popularity}</span>\n        </div>\n        <div class='film-month_info-item'>\n          <span class='film-month_info-label'>Genre</span>\n          <span class='film-month_info-value span-value'>${filmGenres}</span>\n        </div>\n      </div>\n      <div class='film-month_about'>\n        <h4 class='film-month_about-title'>About</h4>\n        <p class='film-month_about-description'>${overview}</p>\n      </div>\n      <div class='film-month_button'>\n        <button class='film-month_button-add'>Add to my library</button>\n      </div>\n    </div>\n  `;\n};"],"names":["$bpxeT","parcelRequire","$parcel$interopDefault","$2TvXO","mark","_callee","film","genres","filmMonthWrapper","resultMarkup","window","location","pathname","$8LhE9","getRandomFilmOfMonth","_ctx","sent","console","log","getGenres","document","querySelector","$6d0d55a67575c206$var$createMarkup","innerHTML","imageSrc","innerWidth","poster_path","overview","title","original_title","releaseDate","Date","release_date","day","getDate","toString","padStart","month","getMonth","year","getFullYear","formattedReleaseDate","concat","voteAverage","vote_average","voteCount","vote_count","popularity","filmGenres","filter","genre","genre_ids","slice","includes","id","map","param","name","join"],"version":3,"file":"film-month.1f0e443d.js.map"}