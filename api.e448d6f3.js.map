{"mappings":"yfAAA,IAAAA,EAAAC,EAAA,SAGA,MAAMC,EAAS,mCAITC,EAAWC,MAAOC,IACtB,MAAMC,EAAoB,4DAA0CJ,UAAeG,IAEnF,IACE,MAAME,QAAeC,MAAMF,GAI3B,OAFAG,QAAQC,IAAIH,GAELA,EAAOI,M,CACd,MAAOC,GAEP,OADAH,QAAQC,IAAI,QAASE,GACd,E,GAILC,EAAuBT,UAC3B,MAAMU,EAAc,IAAIC,KAGlBC,EAAkB,GAFXF,EAAYG,kBACXH,EAAYI,WAAa,GACEC,WAAWC,SAAS,EAAG,UAE1DC,EAAoB,uDAAqCnB,qEAA0Ec,IAEzI,IACE,MAAMM,QAAiBd,MAAMa,GAGvBE,SADaD,EAASX,QACRa,QACdC,EAAcC,KAAKC,MAAMD,KAAKE,SAAWL,EAAOM,QAGtD,OAFmBN,EAAOE,E,CAG1B,MAAOb,GAEP,OADAH,QAAQG,MAAM,oBAAqBA,GAC5B,I,GAILkB,EAAY1B,UAChB,MAAM2B,EAAY,yDAAuC7B,IAEzD,IACE,MAAMoB,QAAiBd,MAAMuB,GAEvBC,QAAmBV,EAASX,OAGlC,OAFeqB,EAAWC,M,CAG1B,MAAOrB,GAEP,OADAH,QAAQG,MAAM,QAASA,GAChB,E,GAOLsB,EAAqB9B,MAAO+B,EAAO9B,KACvC,MACM+B,KAAEA,SAAepC,EAAAqC,QAAMC,IAC3B,qDAAkCpC,WAAgBiC,UAAc9B,oBAGlE,IACE,OAAO+B,C,CACP,MAAOG,GACP9B,QAAQC,IAAI6B,E","sources":["src/javascript/api.js"],"sourcesContent":["'use strict';\nimport axios from 'axios';\n\nconst apiKey = '97fe01addf81f73693338979426ece1e';\nconst baseUrl = 'https://api.themoviedb.org/3';\n\n\nconst getFilms = async (page) => {\n  const trendingMoviesUrl = `${baseUrl}/trending/movie/week?api_key=${apiKey}&page=${page}`;\n\n  try {\n    const result = await fetch(trendingMoviesUrl);\n\n    console.log(result);\n\n    return result.json();\n  } catch (error) {\n    console.log('error', error);\n    return [];\n  }\n}\n\nconst getRandomFilmOfMonth = async () => {\n  const currentDate = new Date();\n  const year = currentDate.getFullYear();\n  const month = currentDate.getMonth() + 1;\n  const firstDayOfMonth = `${year}-${month.toString().padStart(2, '0')}-01`;\n\n  const discoverMoviesUrl = `${baseUrl}/discover/movie?api_key=${apiKey}&language=en-US&sort_by=popularity.desc&primary_release_date.gte=${firstDayOfMonth}`;\n\n  try {\n    const response = await fetch(discoverMoviesUrl);\n\n    const data = await response.json();\n    const movies = data.results;\n    const randomIndex = Math.floor(Math.random() * movies.length);\n    const randomFilm = movies[randomIndex];\n\n    return randomFilm;\n  } catch (error) {\n    console.error('Произошла ошибка:', error);\n    return null;\n  }\n};\n\nconst getGenres = async () => {\n  const genresUrl = `${baseUrl}/genre/movie/list?api_key=${apiKey}`;\n\n  try {\n    const response = await fetch(genresUrl);\n\n    const genresData = await response.json();\n    const genres = genresData.genres;\n\n    return genres;\n  } catch (error) {\n    console.error('error', error);\n    return [];\n  }\n};\n\nconst getRandomNumber = (min, max) => {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\nconst getCategoriesQuery = async (query, page) => {\n  const endpoint = 'search/movie';\n  const { data } = await axios.get(\n    `${baseUrl}/${endpoint}?api_key=${apiKey}&query=${query}&page=${page}&language=en-US`\n  );\n  // console.log(data);\n  try {\n    return data;\n  } catch (err) {\n    console.log(err);\n  }\n}\nexport {\n  getFilms,\n  getRandomFilmOfMonth,\n  getGenres,\n  getCategoriesQuery\n}"],"names":["$2shzp","parcelRequire","$a0149fefc0098dd3$var$apiKey","$a0149fefc0098dd3$export$2b778a441f4a84a0","async","page","trendingMoviesUrl","result","fetch","console","log","json","error","$a0149fefc0098dd3$export$fafbd841940ffab1","currentDate","Date","firstDayOfMonth","getFullYear","getMonth","toString","padStart","discoverMoviesUrl","response","movies","results","randomIndex","Math","floor","random","length","$a0149fefc0098dd3$export$c5604fa8028da00","genresUrl","genresData","genres","$a0149fefc0098dd3$export$fbd67c319eb4236f","query","data","default","get","err"],"version":3,"file":"api.e448d6f3.js.map"}