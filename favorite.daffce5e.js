!function(){function r(r,i,e,t){Object.defineProperty(r,i,{get:e,set:t,enumerable:!0,configurable:!0})}function i(r){return r&&r.__esModule?r.default:r}var e=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequired7c6;e.register("d5bOi",(function(i,t){r(i.exports,"markupFilm",(function(){return d}));var n=e("8LhE9"),a=e("3RRSf"),o=e("l2qkJ"),l=document.querySelector(".search_film_list"),s=document.querySelector(".library-section"),c=document.querySelector(".error-section"),u=new(0,o.MovieLibrary);u.loadLibraryFromLocalStorage();var f=u.library;function d(r){var i=r.map((function(r){var i=r.poster_path,e=r.original_name,t=r.original_title,n=r.genres,o=r.release_date,l=r.vote_average,s=r.first_air_date,c=r.id,u=i?"https://image.tmdb.org/t/p/original".concat(i):"https://www.tgv.com.my/assets/images/404/movie-poster.jpg",f=function(r,i){return void 0!==r?r.split("-")[0]:void 0!==i?i.split("-")[0]:""}(o,s),d=function(r){var i=[];void 0!==r&&(i=r.map((function(r){return r.name})));i.length>2&&(i=i.slice(0,2));return 0===i.length?"Film":i.join(", ")}(n);return'<li class="search_film_img_wrap movie-image list_item" data-film-id=\''.concat(c,'\'>\n        <img loading="lazy" src="').concat(u,'" alt="').concat(e||t,'" width="395" height="574" class="search_film_img"/>\n        <div class="wrap">\n          <div class="search_film_wrap">\n            <p class="search_film_title">').concat(e||t,'</p>\n            <p class="search_film_genre">').concat(d," | ").concat(f,"</p> \n            <div class=\"stars\">\n            <div class='film_rating-wrapper'>\n              <div class='film_rating' style='--rating: ").concat(l/2,";' aria-label='Rating of this film is ").concat((0,a.round)(l/2,10)," out of 5.'></div>\n            </div>\n         </div>\n          </div>\n        </div>\n      </li>")})).join("");l.innerHTML=i}(0,n.getGenres)().then((function(r){r.forEach((function(r){var i=r.id,e=r.name;categories[i]=e}))})).catch(Error),window.location.href.includes("my-library.html")&&(f.length>0?(s.classList.remove("display-hidden"),d(f)):c.classList.remove("display-hidden"))})),e.register("3RRSf",(function(i,e){function t(r,i){return Math.round(r*i)/i}r(i.exports,"round",(function(){return t})),r(i.exports,"getRandomNumber",(function(){return n})),r(i.exports,"renderStars",(function(){return a}));var n=function(r,i){return Math.floor(Math.random()*(i-r+1))+r};function a(r,i){return r.innerHTML='\n    <div class="film_rating" style="--rating:'.concat(i/2,';" aria-label="Rating of this film is ').concat(Math.round(i/2),' out of 5."></div>\n')}})),e.register("l2qkJ",(function(t,n){r(t.exports,"MovieLibrary",(function(){return l}));var a=e("8MBJY"),o=e("a2hTj"),l=function(){"use strict";function r(){i(a)(this,r),this.library=[],this.loadLibraryFromLocalStorage()}return i(o)(r,[{key:"loadLibraryFromLocalStorage",value:function(){var r=localStorage.getItem("favorite");this.library=r?JSON.parse(r):[]}},{key:"saveLibraryToLocalStorage",value:function(){localStorage.setItem("favorite",JSON.stringify(this.library))}},{key:"isFilmInLibrary",value:function(r){return this.library.some((function(i){return i.id==r}))}},{key:"addFilmToLibrary",value:function(r){this.library.push(r),this.saveLibraryToLocalStorage()}},{key:"removeFilmFromLibrary",value:function(r){var i=this.library.findIndex((function(i){return i.id===r.id}));-1!==i&&(this.library.splice(i,1),this.saveLibraryToLocalStorage())}}]),r}()}))}();
//# sourceMappingURL=favorite.daffce5e.js.map
