!function(){function e(e){return e&&e.__esModule?e.default:e}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequired7c6;t.register("7OEV3",(function(n,i){var s=t("bpxeT"),a=t("2TvXO"),o=t("8LhE9"),r=t("krKMH"),l={ulEl:document.querySelector(".search_film_list"),inputEl:document.querySelector(".search_film_input"),divPagination:document.getElementById("pagination"),form:document.getElementById("form"),btnReset:document.querySelector(".btn_reset"),toTop:document.querySelector(".to_top"),falseResultMessage:document.querySelector(".cards__message")},c={},u=1,d="";function f(e){var t=e.map((function(e){var t=e.id,n=e.poster_path,i=e.original_name,s=e.original_title,a=e.genre_ids,o=e.release_date,r=e.vote_average,l=e.first_air_date,u=n?"https://image.tmdb.org/t/p/original".concat(n):"https://www.tgv.com.my/assets/images/404/movie-poster.jpg",d=function(e,t){return void 0!==e?e.split("-")[0]:void 0!==t?t.split("-")[0]:""}(o,l),f=function(e){var t=[];void 0!==e&&(t=e.filter((function(e){return void 0!==e})).map((function(e){return c[e]?c[e]:"Film"})));t.length>2&&(t=t.slice(0,2));return 0===t.length?"Film":t.join(", ")}(a);return'<li class="search_film_img_wrap" data-film-id="'.concat(t,'">\n  <img src="').concat(u,'" alt="').concat(i||s,'"\n    width="395" height="574" class="search_film_img"/>\n  <div class="wrap">\n    <div class="search_film_wrap">\n      <p class="search_film_title">').concat(i||s,'</p>\n      <p class="search_film_genre">').concat(f," | ").concat(d,'</p>\n      <p class="stars is-hidden">').concat(r,"</p>\n    </div>\n  \n  </div>\n  </li>")})).join("");l.ulEl.innerHTML=t}function m(){return(m=e(s)(e(a).mark((function t(n){var i;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),u=1,d=n.currentTarget.elements.film_name.value.trim(),l.divPagination.classList.add("display-hidden"),l.falseResultMessage.classList.add("display-hidden"),d.length>=1&&l.btnReset.classList.remove("is-hidden"),e.next=8,(0,o.getCategoriesQuery)(d,u);case 8:i=e.sent,l.ulEl.innerHTML="",f(i.results),p(i),g(i);case 13:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function p(e){e.total_results>20&&(l.divPagination.classList.remove("display-hidden"),(0,r.createPagination)(e.total_results,e.total_pages).on("afterMove",(function(e){u=e.page,(0,o.getCategoriesQuery)(d,u).then((function(e){f(e.results),window.scrollTo({top:450,behavior:"smooth"})})).catch((function(e){console.error("Error:",e)}))})))}function g(e){0===e.total_results&&l.falseResultMessage.classList.remove("display-hidden")}(0,o.getGenres)().then((function(e){return e.forEach((function(e){var t=e.id,n=e.name;c[t]=n})),(0,o.getFilms)(u)})).then((function(e){f(e.results),function(e){if(e.total_results>20){l.divPagination.classList.remove("display-hidden"),(0,r.createPagination)(e.total_results,e.total_pages).on("afterMove",(function(e){u=e.page,(0,o.getFilms)(u).then((function(e){f(e.results),window.scrollTo({top:450,behavior:"smooth"})})).catch((function(e){console.error("Error:",e)}))}))}}(e)})).catch((function(e){console.log(e)})),l.form.addEventListener("submit",(function(e){return m.apply(this,arguments)})),l.btnReset.addEventListener("click",(function(){l.btnReset.classList.add("is-hidden"),l.form.reset()}))}))}();
//# sourceMappingURL=film-catalog.36669a2b.js.map
