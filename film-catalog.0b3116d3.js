!function(){var e=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequired7c6;e.register("7OEV3",function(t,s){"use strict";var i=e("8LhE9"),l=e("krKMH");let a={ulEl:document.querySelector(".search_film_list"),inputEl:document.querySelector(".search_film_input"),divPagination:document.getElementById("pagination"),form:document.getElementById("form"),btnReset:document.querySelector(".btn_reset"),toTop:document.querySelector(".to_top"),falseResultMessage:document.querySelector(".cards__message")},n={},o=1,r="";function d(e){let t=e.map(({poster_path:e,original_name:t,original_title:s,genre_ids:i,release_date:l,vote_average:a,first_air_date:o})=>{let r,d=e?`https://image.tmdb.org/t/p/original${e}`:"https://www.tgv.com.my/assets/images/404/movie-poster.jpg",c=function(e,t){let s=void 0!==e?e.split("-")[0]:void 0!==t?t.split("-")[0]:"";return s}(l,o);return`<li class="search_film_img_wrap">
  <img src="${d}" alt="${t||s}"
    width="395" height="574" class="search_film_img"/>
  <div class="wrap">
    <div class="search_film_wrap">
      <p class="search_film_title">${t||s}</p>
      <p class="search_film_genre">${r=[],(void 0!==i&&(r=i.filter(e=>void 0!==e).map(e=>n[e]?n[e]:"Film")),r.length>2&&(r=r.slice(0,2)),0===r.length)?"Film":r.join(", ")} | ${c}</p>
      <p class="stars is-hidden">${a}</p>
    </div>
  
  </div>
  </li>`}).join("");a.ulEl.innerHTML=t}async function c(e){e.preventDefault(),o=1,r=e.currentTarget.elements.film_name.value.trim(),a.divPagination.classList.add("display-hidden"),a.falseResultMessage.classList.add("display-hidden"),r.length>=1&&a.btnReset.classList.remove("is-hidden");let t=await (0,i.getCategoriesQuery)(r,o);a.ulEl.innerHTML="",d(t.results),function(e){if(e.total_results>20){a.divPagination.classList.remove("display-hidden");let t=(0,l.createPagination)(e.total_results,e.total_pages);t.on("afterMove",e=>{o=e.page,(0,i.getCategoriesQuery)(r,o).then(e=>{d(e.results),window.scrollTo({top:450,behavior:"smooth"})}).catch(e=>{console.error("Error:",e)})})}}(t),0===t.total_results&&a.falseResultMessage.classList.remove("display-hidden")}(0,i.getGenres)().then(e=>(e.forEach(({id:e,name:t})=>{n[e]=t}),(0,i.getFilms)(o))).then(e=>{d(e.results),function(e){if(e.total_results>20){a.divPagination.classList.remove("display-hidden");let t=(0,l.createPagination)(e.total_results,e.total_pages);t.on("afterMove",e=>{o=e.page,(0,i.getFilms)(o).then(e=>{d(e.results),window.scrollTo({top:450,behavior:"smooth"})}).catch(e=>{console.error("Error:",e)})})}}(e)}).catch(function(e){console.log(e)}),a.form.addEventListener("submit",c),a.btnReset.addEventListener("click",()=>{a.btnReset.classList.add("is-hidden"),a.form.reset()})})}();
//# sourceMappingURL=film-catalog.0b3116d3.js.map
